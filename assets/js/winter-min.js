!function(e){e.fn.touchwipe=function(t){var n={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:!0};return t&&e.extend(n,t),this.each((function(){var e,t,i=!1;function o(){this.removeEventListener("touchmove",r),e=null,i=!1}function r(r){if(n.preventDefaultEvents&&r.preventDefault(),i){var s=r.touches[0].pageX,a=r.touches[0].pageY,l=e-s,c=t-a;Math.abs(l)>=n.min_move_x?(o(),l>0?n.wipeLeft():n.wipeRight()):Math.abs(c)>=n.min_move_y&&(o(),c>0?n.wipeDown():n.wipeUp())}}"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",(function(n){1==n.touches.length&&(e=n.touches[0].pageX,t=n.touches[0].pageY,i=!0,this.addEventListener("touchmove",r,!1))}),!1)})),this}}(jQuery),
/*!

    Copyright (c) 2011 Peter van der Spek

    Permission is hereby granted, free of charge, to any person obtaining a copy
    of this software and associated documentation files (the "Software"), to deal
    in the Software without restriction, including without limitation the rights
    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
    copies of the Software, and to permit persons to whom the Software is
    furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice shall be included in
    all copies or substantial portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
    AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
    OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
    THE SOFTWARE.
    
 */
function(e){var t,n={},i=!1,o={ellipsis:"...",setTitle:"never",live:!1};function r(t,n){var i=t.data("jqae");i||(i={});var o=i.wrapperElement;o||(o=t.wrapInner("<div/>").find(">div")).css({margin:0,padding:0,border:0});var r=o.data("jqae");r||(r={});var c=r.originalContent;c?o=r.originalContent.clone(!0).data("jqae",{originalContent:c}).replaceAll(o):o.data("jqae",{originalContent:o.clone(!0)}),t.data("jqae",{wrapperElement:o,containerWidth:t.width(),containerHeight:t.height()});var u=t.height(),d=(parseInt(t.css("padding-top"),10)||0)+(parseInt(t.css("border-top-width"),10)||0)-(o.offset().top-t.offset().top),p=!1,h=o;n.selector&&(h=e(o.find(n.selector).get().reverse())),h.each((function(){var t=e(this),i=t.text(),r=!1;if(o.innerHeight()-t.innerHeight()>u+d)t.remove();else if(l(t),t.contents().length){for(p&&(a(t).get(0).nodeValue+=n.ellipsis,p=!1);o.innerHeight()>u+d;){if(!(r=s(t))){p=!0,t.remove();break}if(l(t),!t.contents().length){p=!0,t.remove();break}a(t).get(0).nodeValue+=n.ellipsis}"onEllipsis"==n.setTitle&&r||"always"==n.setTitle?t.attr("title",i):"never"!=n.setTitle&&t.removeAttr("title")}}))}function s(t){var n=a(t);if(n.length){var i=n.get(0).nodeValue,o=i.lastIndexOf(" ");return o>-1?(i=e.trim(i.substring(0,o)),n.get(0).nodeValue=i):n.get(0).nodeValue="",!0}return!1}function a(e){if(e.contents().length){var t=(n=e.contents()).eq(n.length-1);return t.filter(c).length?t:a(t)}var n;return e.append(""),(n=e.contents()).eq(n.length-1)}function l(t){if(t.contents().length){var n=t.contents(),i=n.eq(n.length-1);if(i.filter(c).length){var o=i.get(0).nodeValue;return""==(o=e.trim(o))&&(i.remove(),!0)}for(;l(i););return!i.contents().length&&(i.remove(),!0)}return!1}function c(){return 3===this.nodeType}e.fn.ellipsis=function(s,a){var l,c,u;return l=e(this),"string"!=typeof s&&(a=s,s=void 0),(c=e.extend({},o,a)).selector=s,l.each((function(){r(e(this),c)})),c.live?function(o,s){n[o]=s,t||(t=window.setInterval((function(){!function(){if(!i){for(var t in i=!0,n)e(t).each((function(){var i,o;(o=(i=e(this)).data("jqae")).containerWidth==i.width()&&o.containerHeight==i.height()||r(i,n[t])}));i=!1}}()}),200))}(l.selector,c):(u=l.selector,n[u]&&(delete n[u],n.length||t&&(window.clearInterval(t),t=void 0))),this}}(jQuery),function(e){e.waterfall=function(){var t=[],n=e.Deferred(),i=0;return e.each(arguments,(function(o,r){t.push((function(){var o,s=[].slice.apply(arguments);"function"==typeof r?(o=r.apply(null,s))&&o.promise||(o=e.Deferred()[!1===o?"reject":"resolve"](o)):o=r&&r.promise?r:e.Deferred()[!1===r?"reject":"resolve"](r),o.fail((function(){n.reject.apply(n,[].slice.apply(arguments))})).done((function(e){i++,s.push(e),i==t.length?n.resolve.apply(n,s):t[i].apply(null,s)}))}))})),t.length?t[0]():n.resolve(),n}}(jQuery),
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}((function(e){var t=/\+/g;function n(e){return s.raw?e:encodeURIComponent(e)}function i(e){return s.raw?e:decodeURIComponent(e)}function o(e){return n(s.json?JSON.stringify(e):String(e))}function r(n,i){var o=s.raw?n:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(t," ")),s.json?JSON.parse(e):e}catch(e){}}(n);return e.isFunction(i)?i(o):o}var s=e.cookie=function(t,a,l){if(arguments.length>1&&!e.isFunction(a)){if("number"==typeof(l=e.extend({},s.defaults,l)).expires){var c=l.expires,u=l.expires=new Date;u.setTime(+u+864e5*c)}return document.cookie=[n(t),"=",o(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var d=t?void 0:{},p=document.cookie?document.cookie.split("; "):[],h=0,f=p.length;h<f;h++){var m=p[h].split("="),v=i(m.shift()),g=m.join("=");if(t&&t===v){d=r(g,a);break}t||void 0===(g=r(g))||(d[v]=g)}return d};s.defaults={},e.removeCookie=function(t,n){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}));var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Emitter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){this._callbacks=this._callbacks||{};var t=this._callbacks[e];if(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var r=t,s=!0,a=0;for(r=s?r:r[Symbol.iterator]();;){var l;if(s){if(a>=r.length)break;l=r[a++]}else{if((a=r.next()).done)break;l=a.value}var c=l;c.apply(this,i)}}return this}},{key:"off",value:function(e,t){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(var i=0;i<n.length;i++){var o=n[i];if(o===t){n.splice(i,1);break}}return this}}]),e}(),Dropzone=function(e){function t(e,n){_classCallCheck(this,t);var i,o=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=void 0;if(o.element=e,o.version=t.version,o.defaultOptions.previewTemplate=o.defaultOptions.previewTemplate.replace(/\n*/g,""),o.clickableElements=[],o.listeners=[],o.files=[],"string"==typeof o.element&&(o.element=document.querySelector(o.element)),!o.element||null==o.element.nodeType)throw new Error("Invalid dropzone element.");if(o.element.dropzone)throw new Error("Dropzone already attached.");t.instances.push(o),o.element.dropzone=o;var s,a=null!=(i=t.optionsForElement(o.element))?i:{};if(o.options=t.extend({},o.defaultOptions,a,null!=n?n:{}),o.options.forceFallback||!t.isBrowserSupported())return s=o.options.fallback.call(o),_possibleConstructorReturn(o,s);if(null==o.options.url&&(o.options.url=o.element.getAttribute("action")),!o.options.url)throw new Error("No URL provided.");if(o.options.acceptedFiles&&o.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(o.options.uploadMultiple&&o.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return o.options.acceptedMimeTypes&&(o.options.acceptedFiles=o.options.acceptedMimeTypes,delete o.options.acceptedMimeTypes),null!=o.options.renameFilename&&(o.options.renameFile=function(e){return o.options.renameFilename.call(o,e.name,e)}),o.options.method=o.options.method.toUpperCase(),(r=o.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),!1!==o.options.previewsContainer&&(o.options.previewsContainer?o.previewsContainer=t.getElement(o.options.previewsContainer,"previewsContainer"):o.previewsContainer=o.element),o.options.clickable&&(!0===o.options.clickable?o.clickableElements=[o.element]:o.clickableElements=t.getElements(o.options.clickable,"clickable")),o.init(),o}return _inherits(t,Emitter),_createClass(t,null,[{key:"initClass",value:function(){this.prototype.Emitter=Emitter,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(e,t,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(e,t){return t()},chunksUploaded:function(e,t){t()},fallback:function(){var e=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var n=0,i=i=this.element.getElementsByTagName("div");;){if(n>=i.length)break;var o=i[n++];if(/(^| )dz-message($| )/.test(o.className)){e=o,o.className="dz-message";break}}e||(e=t.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e));var r=e.getElementsByTagName("span")[0];return r&&(null!=r.textContent?r.textContent=this.options.dictFallbackMessage:null!=r.innerText&&(r.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e,t,n,i){var o={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},r=e.width/e.height;null==t&&null==n?(t=o.srcWidth,n=o.srcHeight):null==t?t=n*r:null==n&&(n=t/r);var s=(t=Math.min(t,o.srcWidth))/(n=Math.min(n,o.srcHeight));if(o.srcWidth>t||o.srcHeight>n)if("crop"===i)r>s?(o.srcHeight=e.height,o.srcWidth=o.srcHeight*s):(o.srcWidth=e.width,o.srcHeight=o.srcWidth/s);else{if("contain"!==i)throw new Error("Unknown resizeMethod '"+i+"'");r>s?n=t/r:t=n*r}return o.srcX=(e.width-o.srcWidth)/2,o.srcY=(e.height-o.srcHeight)/2,o.trgWidth=t,o.trgHeight=n,o},transformFile:function(e,t){return(this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)?this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t):t(e)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:function(e){},dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:function(e){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var n=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){e.previewElement=t.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement);for(var i=0,o=o=e.previewElement.querySelectorAll("[data-dz-name]");;){if(i>=o.length)break;var r=o[i++];r.textContent=e.name}for(var s=0,a=a=e.previewElement.querySelectorAll("[data-dz-size]");!(s>=a.length);)(r=a[s++]).innerHTML=this.filesize(e.size);this.options.addRemoveLinks&&(e._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink));for(var l=function(i){return i.preventDefault(),i.stopPropagation(),e.status===t.UPLOADING?t.confirm(n.options.dictCancelUploadConfirmation,(function(){return n.removeFile(e)})):n.options.dictRemoveFileConfirmation?t.confirm(n.options.dictRemoveFileConfirmation,(function(){return n.removeFile(e)})):n.removeFile(e)},c=0,u=u=e.previewElement.querySelectorAll("[data-dz-remove]");;){if(c>=u.length)break;u[c++].addEventListener("click",l)}}},removedfile:function(e){return null!=e.previewElement&&null!=e.previewElement.parentNode&&e.previewElement.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");for(var n=0,i=i=e.previewElement.querySelectorAll("[data-dz-thumbnail]");;){if(n>=i.length)break;var o=i[n++];o.alt=e.name,o.src=t}return setTimeout((function(){return e.previewElement.classList.add("dz-image-preview")}),1)}},error:function(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error);for(var n=0,i=i=e.previewElement.querySelectorAll("[data-dz-errormessage]");;){if(n>=i.length)break;i[n++].textContent=t}}},errormultiple:function(){},processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(e,t,n){if(e.previewElement)for(var i=0,o=o=e.previewElement.querySelectorAll("[data-dz-uploadprogress]");;){if(i>=o.length)break;var r=o[i++];"PROGRESS"===r.nodeName?r.value=t:r.style.width=t+"%"}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(e){if(e._removeLink&&(e._removeLink.innerHTML=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=n,r=!0,s=0;for(o=r?o:o[Symbol.iterator]();;){var a;if(r){if(s>=o.length)break;a=o[s++]}else{if((s=o.next()).done)break;a=s.value}var l=a;for(var c in l){var u=l[c];e[c]=u}}return e}}]),_createClass(t,[{key:"getAcceptedFiles",value:function(){return this.files.filter((function(e){return e.accepted})).map((function(e){return e}))}},{key:"getRejectedFiles",value:function(){return this.files.filter((function(e){return!e.accepted})).map((function(e){return e}))}},{key:"getFilesWithStatus",value:function(e){return this.files.filter((function(t){return t.status===e})).map((function(e){return e}))}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(t.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(t.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(t.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter((function(e){return e.status===t.UPLOADING||e.status===t.QUEUED})).map((function(e){return e}))}},{key:"init",value:function(){var e=this;if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length){!function n(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null===e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!==e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!==e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",t.getElement(e.options.hiddenInputContainer,"hiddenInputContainer").appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",(function(){var t=e.hiddenFileInput.files;if(t.length)for(var i=0,o=o=t;;){if(i>=o.length)break;var r=o[i++];e.addFile(r)}return e.emit("addedfiles",t),n()}))}()}this.URL=null!==window.URL?window.URL:window.webkitURL;for(var n=0,i=i=this.events;;){if(n>=i.length)break;var o=i[n++];this.on(o,this.options[o])}this.on("uploadprogress",(function(){return e.updateTotalUploadProgress()})),this.on("removedfile",(function(){return e.updateTotalUploadProgress()})),this.on("canceled",(function(t){return e.emit("complete",t)})),this.on("complete",(function(t){if(0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length)return setTimeout((function(){return e.emit("queuecomplete")}),0)}));var r=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(t){return e.emit("dragstart",t)},dragenter:function(t){return r(t),e.emit("dragenter",t)},dragover:function(t){var n=void 0;try{n=t.dataTransfer.effectAllowed}catch(e){}return t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",r(t),e.emit("dragover",t)},dragleave:function(t){return e.emit("dragleave",t)},drop:function(t){return r(t),e.drop(t)},dragend:function(t){return e.emit("dragend",t)}}}],this.clickableElements.forEach((function(n){return e.listeners.push({element:n,events:{click:function(i){return(n!==e.element||i.target===e.element||t.elementInside(i.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})})),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,t.instances.splice(t.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var e=void 0,t=0,n=0;if(this.getActiveFiles().length){for(var i=0,o=o=this.getActiveFiles();;){if(i>=o.length)break;var r=o[i++];t+=r.upload.bytesSent,n+=r.upload.total}e=100*t/n}else e=100;return this.emit("totaluploadprogress",e,n,t)}},{key:"_getParamName",value:function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")}},{key:"_renameFile",value:function(e){return"function"!=typeof this.options.renameFile?e.name:this.options.renameFile(e)}},{key:"getFallbackForm",value:function(){var e,n=void 0;if(e=this.getExistingFallback())return e;var i='<div class="dz-fallback">';this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var o=t.createElement(i);return"FORM"!==this.element.tagName?(n=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(o):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:o}},{key:"getExistingFallback",value:function(){for(var e=function(e){for(var t=0,n=n=e;;){if(t>=n.length)break;var i=n[t++];if(/(^| )fallback($| )/.test(i.className))return i}},t=["div","form"],n=0;n<t.length;n++){var i,o=t[n];if(i=e(this.element.getElementsByTagName(o)))return i}}},{key:"setupEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.addEventListener(n,i,!1))}return t}()}))}},{key:"removeEventListeners",value:function(){return this.listeners.map((function(e){return function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.removeEventListener(n,i,!1))}return t}()}))}},{key:"disable",value:function(){var e=this;return this.clickableElements.forEach((function(e){return e.classList.remove("dz-clickable")})),this.removeEventListeners(),this.disabled=!0,this.files.map((function(t){return e.cancelUpload(t)}))}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach((function(e){return e.classList.add("dz-clickable")})),this.setupEventListeners()}},{key:"filesize",value:function(e){var t=0,n="b";if(e>0){for(var i=["tb","gb","mb","kb","b"],o=0;o<i.length;o++){var r=i[o];if(e>=Math.pow(this.options.filesizeBase,4-o)/10){t=e/Math.pow(this.options.filesizeBase,4-o),n=r;break}}t=Math.round(10*t)/10}return"<strong>"+t+"</strong> "+this.options.dictFileSizeUnits[n]}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(e){if(e.dataTransfer){this.emit("drop",e);for(var t=[],n=0;n<e.dataTransfer.files.length;n++)t[n]=e.dataTransfer.files[n];if(this.emit("addedfiles",t),t.length){var i=e.dataTransfer.items;i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)}}}},{key:"paste",value:function(e){if(null!=__guard__(null!=e?e.clipboardData:void 0,(function(e){return e.items}))){this.emit("paste",e);var t=e.clipboardData.items;return t.length?this._addFilesFromItems(t):void 0}}},{key:"handleFiles",value:function(e){for(var t=0,n=n=e;;){if(t>=n.length)break;var i=n[t++];this.addFile(i)}}},{key:"_addFilesFromItems",value:function(e){var t=this;return function(){for(var n=[],i=0,o=o=e;;){if(i>=o.length)break;var r,s=o[i++];null!=s.webkitGetAsEntry&&(r=s.webkitGetAsEntry())?r.isFile?n.push(t.addFile(s.getAsFile())):r.isDirectory?n.push(t._addFilesFromDirectory(r,r.name)):n.push(void 0):null!=s.getAsFile&&(null==s.kind||"file"===s.kind)?n.push(t.addFile(s.getAsFile())):n.push(void 0)}return n}()}},{key:"_addFilesFromDirectory",value:function(e,t){var n=this,i=e.createReader(),o=function(e){return __guardMethod__(console,"log",(function(t){return t.log(e)}))};return function e(){return i.readEntries((function(i){if(i.length>0){for(var o=0,r=r=i;;){if(o>=r.length)break;var s=r[o++];s.isFile?s.file((function(e){if(!n.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=t+"/"+e.name,n.addFile(e)})):s.isDirectory&&n._addFilesFromDirectory(s,t+"/"+s.name)}e()}return null}),o)}()}},{key:"accept",value:function(e,n){return this.options.maxFilesize&&e.size>1024*this.options.maxFilesize*1024?n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):t.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,n):n(this.options.dictInvalidFileType)}},{key:"addFile",value:function(e){var n=this;return e.upload={uuid:t.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e),chunked:this.options.chunking&&(this.options.forceChunking||e.size>this.options.chunkSize),totalChunkCount:Math.ceil(e.size/this.options.chunkSize)},this.files.push(e),e.status=t.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,(function(t){return t?(e.accepted=!1,n._errorProcessing([e],t)):(e.accepted=!0,n.options.autoQueue&&n.enqueueFile(e)),n._updateMaxFilesReachedClass()}))}},{key:"enqueueFiles",value:function(e){for(var t=0,n=n=e;;){if(t>=n.length)break;var i=n[t++];this.enqueueFile(i)}return null}},{key:"enqueueFile",value:function(e){var n=this;if(e.status!==t.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=t.QUEUED,this.options.autoProcessQueue)return setTimeout((function(){return n.processQueue()}),0)}},{key:"_enqueueThumbnail",value:function(e){var t=this;if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((function(){return t._processThumbnailQueue()}),0)}},{key:"_processThumbnailQueue",value:function(){var e=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(function(n){return e.emit("thumbnail",t,n),e._processingThumbnail=!1,e._processThumbnailQueue()}))}}},{key:"removeFile",value:function(e){if(e.status===t.UPLOADING&&this.cancelUpload(e),this.files=without(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(e){null==e&&(e=!1);for(var n=0,i=i=this.files.slice();;){if(n>=i.length)break;var o=i[n++];(o.status!==t.UPLOADING||e)&&this.removeFile(o)}return null}},{key:"resizeImage",value:function(e,n,i,o,r){var s=this;return this.createThumbnail(e,n,i,o,!0,(function(n,i){if(null==i)return r(e);var o=s.options.resizeMimeType;null==o&&(o=e.type);var a=i.toDataURL(o,s.options.resizeQuality);return"image/jpeg"!==o&&"image/jpg"!==o||(a=ExifRestore.restore(e.dataURL,a)),r(t.dataURItoBlob(a))}))}},{key:"createThumbnail",value:function(e,t,n,i,o,r){var s=this,a=new FileReader;return a.onload=function(){if(e.dataURL=a.result,"image/svg+xml"!==e.type)return s.createThumbnailFromUrl(e,t,n,i,o,r);null!=r&&r(a.result)},a.readAsDataURL(e)}},{key:"createThumbnailFromUrl",value:function(e,t,n,i,o,r,s){var a=this,l=document.createElement("img");return s&&(l.crossOrigin=s),l.onload=function(){var s=function(e){return e(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&o&&(s=function(e){return EXIF.getData(l,(function(){return e(EXIF.getTag(this,"Orientation"))}))}),s((function(o){e.width=l.width,e.height=l.height;var s=a.options.resize.call(a,e,t,n,i),c=document.createElement("canvas"),u=c.getContext("2d");switch(c.width=s.trgWidth,c.height=s.trgHeight,o>4&&(c.width=s.trgHeight,c.height=s.trgWidth),o){case 2:u.translate(c.width,0),u.scale(-1,1);break;case 3:u.translate(c.width,c.height),u.rotate(Math.PI);break;case 4:u.translate(0,c.height),u.scale(1,-1);break;case 5:u.rotate(.5*Math.PI),u.scale(1,-1);break;case 6:u.rotate(.5*Math.PI),u.translate(0,-c.width);break;case 7:u.rotate(.5*Math.PI),u.translate(c.height,-c.width),u.scale(-1,1);break;case 8:u.rotate(-.5*Math.PI),u.translate(-c.height,0)}drawImageIOSFix(u,l,null!=s.srcX?s.srcX:0,null!=s.srcY?s.srcY:0,s.srcWidth,s.srcHeight,null!=s.trgX?s.trgX:0,null!=s.trgY?s.trgY:0,s.trgWidth,s.trgHeight);var d=c.toDataURL("image/png");if(null!=r)return r(d,c)}))},null!=r&&(l.onerror=r),l.src=e.dataURL}},{key:"processQueue",value:function(){var e=this.options.parallelUploads,t=this.getUploadingFiles().length,n=t;if(!(t>=e)){var i=this.getQueuedFiles();if(i.length>0){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,e-t));for(;n<e;){if(!i.length)return;this.processFile(i.shift()),n++}}}}},{key:"processFile",value:function(e){return this.processFiles([e])}},{key:"processFiles",value:function(e){for(var n=0,i=i=e;;){if(n>=i.length)break;var o=i[n++];o.processing=!0,o.status=t.UPLOADING,this.emit("processing",o)}return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}},{key:"_getFilesWithXhr",value:function(e){return this.files.filter((function(t){return t.xhr===e})).map((function(e){return e}))}},{key:"cancelUpload",value:function(e){if(e.status===t.UPLOADING){for(var n=this._getFilesWithXhr(e.xhr),i=0,o=o=n;;){if(i>=o.length)break;o[i++].status=t.CANCELED}void 0!==e.xhr&&e.xhr.abort();for(var r=0,s=s=n;;){if(r>=s.length)break;var a=s[r++];this.emit("canceled",a)}this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else e.status!==t.ADDED&&e.status!==t.QUEUED||(e.status=t.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(e){if("function"==typeof e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.apply(this,n)}return e}},{key:"uploadFile",value:function(e){return this.uploadFiles([e])}},{key:"uploadFiles",value:function(e){var n=this;this._transformFiles(e,(function(i){if(e[0].upload.chunked){var o=e[0],r=i[0];o.upload.chunks=[];var s=function(){for(var i=0;void 0!==o.upload.chunks[i];)i++;if(!(i>=o.upload.totalChunkCount)){0;var s=i*n.options.chunkSize,a=Math.min(s+n.options.chunkSize,o.size),l={name:n._getParamName(0),data:r.webkitSlice?r.webkitSlice(s,a):r.slice(s,a),filename:o.upload.filename,chunkIndex:i};o.upload.chunks[i]={file:o,index:i,dataBlock:l,status:t.UPLOADING,progress:0,retries:0},n._uploadData(e,[l])}};if(o.upload.finishedChunkUpload=function(i){var r=!0;i.status=t.SUCCESS,i.dataBlock=null,i.xhr=null;for(var a=0;a<o.upload.totalChunkCount;a++){if(void 0===o.upload.chunks[a])return s();o.upload.chunks[a].status!==t.SUCCESS&&(r=!1)}r&&n.options.chunksUploaded(o,(function(){n._finished(e,"",null)}))},n.options.parallelChunkUploads)for(var a=0;a<o.upload.totalChunkCount;a++)s();else s()}else{for(var l=[],c=0;c<e.length;c++)l[c]={name:n._getParamName(c),data:i[c],filename:e[c].upload.filename};n._uploadData(e,l)}}))}},{key:"_getChunk",value:function(e,t){for(var n=0;n<e.upload.totalChunkCount;n++)if(void 0!==e.upload.chunks[n]&&e.upload.chunks[n].xhr===t)return e.upload.chunks[n]}},{key:"_uploadData",value:function(e,n){for(var i=this,o=new XMLHttpRequest,r=0,s=s=e;;){if(r>=s.length)break;s[r++].xhr=o}e[0].upload.chunked&&(e[0].upload.chunks[n[0].chunkIndex].xhr=o);var a=this.resolveOption(this.options.method,e),l=this.resolveOption(this.options.url,e);o.open(a,l,!0),o.timeout=this.resolveOption(this.options.timeout,e),o.withCredentials=!!this.options.withCredentials,o.onload=function(t){i._finishedUploading(e,o,t)},o.onerror=function(){i._handleUploadError(e,o)},(null!=o.upload?o.upload:o).onprogress=function(t){return i._updateFilesUploadProgress(e,o,t)};var c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var u in this.options.headers&&t.extend(c,this.options.headers),c){var d=c[u];d&&o.setRequestHeader(u,d)}var p=new FormData;if(this.options.params){var h=this.options.params;for(var f in"function"==typeof h&&(h=h.call(this,e,o,e[0].upload.chunked?this._getChunk(e[0],o):null)),h){var m=h[f];p.append(f,m)}}for(var v=0,g=g=e;;){if(v>=g.length)break;var y=g[v++];this.emit("sending",y,o,p)}this.options.uploadMultiple&&this.emit("sendingmultiple",e,o,p),this._addFormElementData(p);for(var b=0;b<n.length;b++){var w=n[b];p.append(w.name,w.data,w.filename)}this.submitRequest(o,p,e)}},{key:"_transformFiles",value:function(e,t){for(var n=this,i=[],o=0,r=function(r){n.options.transformFile.call(n,e[r],(function(n){i[r]=n,++o===e.length&&t(i)}))},s=0;s<e.length;s++)r(s)}},{key:"_addFormElementData",value:function(e){if("FORM"===this.element.tagName)for(var t=0,n=n=this.element.querySelectorAll("input, textarea, select, button");;){if(t>=n.length)break;var i=n[t++],o=i.getAttribute("name"),r=i.getAttribute("type");if(r&&(r=r.toLowerCase()),null!=o)if("SELECT"===i.tagName&&i.hasAttribute("multiple"))for(var s=0,a=a=i.options;;){if(s>=a.length)break;var l=a[s++];l.selected&&e.append(o,l.value)}else(!r||"checkbox"!==r&&"radio"!==r||i.checked)&&e.append(o,i.value)}}},{key:"_updateFilesUploadProgress",value:function(e,t,n){var i=void 0;if(void 0!==n){if(i=100*n.loaded/n.total,e[0].upload.chunked){var o=e[0],r=this._getChunk(o,t);r.progress=i,r.total=n.total,r.bytesSent=n.loaded;o.upload.progress=0,o.upload.total=0,o.upload.bytesSent=0;for(var s=0;s<o.upload.totalChunkCount;s++)void 0!==o.upload.chunks[s]&&void 0!==o.upload.chunks[s].progress&&(o.upload.progress+=o.upload.chunks[s].progress,o.upload.total+=o.upload.chunks[s].total,o.upload.bytesSent+=o.upload.chunks[s].bytesSent);o.upload.progress=o.upload.progress/o.upload.totalChunkCount}else for(var a=0,l=l=e;;){if(a>=l.length)break;var c=l[a++];c.upload.progress=i,c.upload.total=n.total,c.upload.bytesSent=n.loaded}for(var u=0,d=d=e;;){if(u>=d.length)break;var p=d[u++];this.emit("uploadprogress",p,p.upload.progress,p.upload.bytesSent)}}else{var h=!0;i=100;for(var f=0,m=m=e;;){if(f>=m.length)break;var v=m[f++];100===v.upload.progress&&v.upload.bytesSent===v.upload.total||(h=!1),v.upload.progress=i,v.upload.bytesSent=v.upload.total}if(h)return;for(var g=0,y=y=e;;){if(g>=y.length)break;var b=y[g++];this.emit("uploadprogress",b,i,b.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(e,n,i){var o=void 0;if(e[0].status!==t.CANCELED&&4===n.readyState){if("arraybuffer"!==n.responseType&&"blob"!==n.responseType&&(o=n.responseText,n.getResponseHeader("content-type")&&~n.getResponseHeader("content-type").indexOf("application/json")))try{o=JSON.parse(o)}catch(e){i=e,o="Invalid JSON response from server."}this._updateFilesUploadProgress(e),200<=n.status&&n.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],n)):this._finished(e,o,i):this._handleUploadError(e,n,o)}}},{key:"_handleUploadError",value:function(e,n,i){if(e[0].status!==t.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){var o=this._getChunk(e[0],n);if(o.retries++<this.options.retryChunksLimit)return void this._uploadData(e,[o.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}for(var r=0,s=s=e;;){if(r>=s.length)break;s[r++];this._errorProcessing(e,i||this.options.dictResponseError.replace("{{statusCode}}",n.status),n)}}}},{key:"submitRequest",value:function(e,t,n){e.send(t)}},{key:"_finished",value:function(e,n,i){for(var o=0,r=r=e;;){if(o>=r.length)break;var s=r[o++];s.status=t.SUCCESS,this.emit("success",s,n,i),this.emit("complete",s)}if(this.options.uploadMultiple&&(this.emit("successmultiple",e,n,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(e,n,i){for(var o=0,r=r=e;;){if(o>=r.length)break;var s=r[o++];s.status=t.ERROR,this.emit("error",s,n,i),this.emit("complete",s)}if(this.options.uploadMultiple&&(this.emit("errormultiple",e,n,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}]),t}();Dropzone.initClass(),Dropzone.version="5.5.1",Dropzone.options={},Dropzone.optionsForElement=function(e){return e.getAttribute("id")?Dropzone.options[camelize(e.getAttribute("id"))]:void 0},Dropzone.instances=[],Dropzone.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},Dropzone.autoDiscover=!0,Dropzone.discover=function(){var e=void 0;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function(t){return function(){for(var n=[],i=0,o=o=t;;){if(i>=o.length)break;var r=o[i++];/(^| )dropzone($| )/.test(r.className)?n.push(e.push(r)):n.push(void 0)}return n}()};t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){for(var t=[],n=0,i=i=e;;){if(n>=i.length)break;var o=i[n++];!1!==Dropzone.optionsForElement(o)?t.push(new Dropzone(o)):t.push(void 0)}return t}()},Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],Dropzone.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(var t=0,n=n=Dropzone.blacklistedBrowsers;;){if(t>=n.length)break;n[t++].test(navigator.userAgent)&&(e=!1)}else e=!1;else e=!1;return e},Dropzone.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),o=new Uint8Array(i),r=0,s=t.length,a=0<=s;a?r<=s:r>=s;a?r++:r--)o[r]=t.charCodeAt(r);return new Blob([i],{type:n})};var without=function(e,t){return e.filter((function(e){return e!==t})).map((function(e){return e}))},camelize=function(e){return e.replace(/[\-_](\w)/g,(function(e){return e.charAt(1).toUpperCase()}))};Dropzone.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},Dropzone.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},Dropzone.getElement=function(e,t){var n=void 0;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},Dropzone.getElements=function(e,t){var n=void 0,i=void 0;if(e instanceof Array){i=[];try{for(var o=0,r=r=e;!(o>=r.length);)n=r[o++],i.push(this.getElement(n,t))}catch(e){i=null}}else if("string"==typeof e){i=[];for(var s=0,a=a=document.querySelectorAll(e);!(s>=a.length);)n=a[s++],i.push(n)}else null!=e.nodeType&&(i=[e]);if(null==i||!i.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return i},Dropzone.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},Dropzone.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");for(var n=e.type,i=n.replace(/\/.*$/,""),o=0,r=r=t;;){if(o>=r.length)break;var s=r[o++];if("."===(s=s.trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(s.toLowerCase(),e.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(i===s.replace(/\/.*$/,""))return!0}else if(n===s)return!0}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each((function(){return new Dropzone(this,e)}))}),"undefined"!=typeof module&&null!==module?module.exports=Dropzone:window.Dropzone=Dropzone,Dropzone.ADDED="added",Dropzone.QUEUED="queued",Dropzone.ACCEPTED=Dropzone.QUEUED,Dropzone.UPLOADING="uploading",Dropzone.PROCESSING=Dropzone.UPLOADING,Dropzone.CANCELED="canceled",Dropzone.ERROR="error",Dropzone.SUCCESS="success";var detectVerticalSquash=function(e){e.naturalWidth;var t=e.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=t;var i=n.getContext("2d");i.drawImage(e,0,0);for(var o=i.getImageData(1,0,1,t).data,r=0,s=t,a=t;a>r;){0===o[4*(a-1)+3]?s=a:r=a,a=s+r>>1}var l=a/t;return 0===l?1:l},drawImageIOSFix=function(e,t,n,i,o,r,s,a,l,c){var u=detectVerticalSquash(t);return e.drawImage(t,n,i,o,r,s,a,l,c/u)},ExifRestore=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(e){for(var t="",n=void 0,i=void 0,o="",r=void 0,s=void 0,a=void 0,l="",c=0;r=(n=e[c++])>>2,s=(3&n)<<4|(i=e[c++])>>4,a=(15&i)<<2|(o=e[c++])>>6,l=63&o,isNaN(i)?a=l=64:isNaN(o)&&(l=64),t=t+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(l),n=i=o="",r=s=a=l="",c<e.length;);return t}},{key:"restore",value:function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),i=this.slice2Segments(n),o=this.exifManipulation(t,i);return"data:image/jpeg;base64,"+this.encode64(o)}},{key:"exifManipulation",value:function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n);return new Uint8Array(i)}},{key:"getExifArray",value:function(e){for(var t=void 0,n=0;n<e.length;){if(255===(t=e[n])[0]&225===t[1])return t;n++}return[]}},{key:"insertExif",value:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),i=this.decode64(n),o=i.indexOf(255,3),r=i.slice(0,o),s=i.slice(o),a=r;return a=(a=a.concat(t)).concat(s)}},{key:"slice2Segments",value:function(e){for(var t=0,n=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var i=t+(256*e[t+2]+e[t+3])+2,o=e.slice(t,i);n.push(o),t=i}if(t>e.length)break}return n}},{key:"decode64",value:function(e){var t=void 0,n=void 0,i="",o=void 0,r=void 0,s="",a=0,l=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=this.KEY_STR.indexOf(e.charAt(a++))<<2|(o=this.KEY_STR.indexOf(e.charAt(a++)))>>4,n=(15&o)<<4|(r=this.KEY_STR.indexOf(e.charAt(a++)))>>2,i=(3&r)<<6|(s=this.KEY_STR.indexOf(e.charAt(a++))),l.push(t),64!==r&&l.push(n),64!==s&&l.push(i),t=n=i="",o=r=s="",a<e.length;);return l}}]),e}();ExifRestore.initClass();var contentLoaded=function(e,t){var n=!1,i=!0,o=e.document,r=o.documentElement,s=o.addEventListener?"addEventListener":"attachEvent",a=o.addEventListener?"removeEventListener":"detachEvent",l=o.addEventListener?"":"on",c=function i(r){if("readystatechange"!==r.type||"complete"===o.readyState)return("load"===r.type?e:o)[a](l+r.type,i,!1),!n&&(n=!0)?t.call(e,r.type||r):void 0};if("complete"!==o.readyState){if(o.createEventObject&&r.doScroll){try{i=!e.frameElement}catch(e){}i&&function e(){try{r.doScroll("left")}catch(t){return void setTimeout(e,50)}return c("poll")}()}return o[s](l+"DOMContentLoaded",c,!1),o[s](l+"readystatechange",c,!1),e[s](l+"load",c,!1)}};function __guard__(e,t){return null!=e?t(e):void 0}function __guardMethod__(e,t,n){return null!=e&&"function"==typeof e[t]?n(e,t):void 0}if(Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover)return Dropzone.discover()},contentLoaded(window,Dropzone._autoDiscoverFunction),function(e,t){var n,i,o,r,s=["error","warning","info","success"],a={title:"",text:"",type:null,allowOutsideClick:!1,showCancelButton:!1,showConfirmButton:!0,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonClass:"btn-primary",cancelButtonText:"Cancel",cancelButtonClass:"btn-default",containerClass:"",titleClass:"",textClass:"",imageUrl:null,imageSize:null,timer:null},l=function(){return t.querySelector(".sweet-alert")},c=function(){return t.querySelector(".sweet-overlay")},u=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},d=function(e,t){t&&!u(e,t)&&(e.className+=" "+t)},p=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(u(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},h=function(e){var n=t.createElement("div");return n.appendChild(t.createTextNode(e)),n.innerHTML},f=function(e){e.style.opacity="",e.style.display="block"},m=function(e){if(e&&!e.length)return f(e);for(var t=0;t<e.length;++t)f(e[t])},v=function(e){e.style.opacity="",e.style.display="none"},g=function(e){if(e&&!e.length)return v(e);for(var t=0;t<e.length;++t)v(e[t])},y=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},b=function(e,t){t=t||16,e.style.opacity=1;var n=+new Date,i=function(){e.style.opacity=+e.style.opacity-(new Date-n)/100,n=+new Date,+e.style.opacity>0?setTimeout(i,t):e.style.display="none"};i()},w=function(n){if(MouseEvent){var i=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});n.dispatchEvent(i)}else if(t.createEvent){var o=t.createEvent("MouseEvents");o.initEvent("click",!1,!1),n.dispatchEvent(o)}else t.createEventObject?n.fireEvent("onclick"):"function"==typeof n.onclick&&n.onclick()},C=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)};function x(t){var n=l(),i=n.querySelector("h2"),o=n.querySelector("p"),r=n.querySelector("button.cancel"),a=n.querySelector("button.confirm");if(i.innerHTML=h(t.title).split("\n").join("<br>"),o.innerHTML=h(t.text||"").split("\n").join("<br>"),t.text&&m(o),g(n.querySelectorAll(".icon")),t.type){for(var c=!1,u=0;u<s.length;u++)if(t.type===s[u]){c=!0;break}if(!c)return e.console.error("Unknown alert type: "+t.type),!1;var p=n.querySelector(".icon."+t.type);switch(m(p),t.type){case"success":d(p,"animate"),d(p.querySelector(".tip"),"animateSuccessTip"),d(p.querySelector(".long"),"animateSuccessLong");break;case"error":d(p,"animateErrorIcon"),d(p.querySelector(".x-mark"),"animateXMark");break;case"warning":d(p,"pulseWarning"),d(p.querySelector(".body"),"pulseWarningIns"),d(p.querySelector(".dot"),"pulseWarningIns")}}if(t.imageUrl){var f=n.querySelector(".icon.custom");f.style.backgroundImage="url("+t.imageUrl+")",m(f);var v=80,y=80;if(t.imageSize){var b=t.imageSize.split("x")[0],w=t.imageSize.split("x")[1];b&&w?(v=b,y=w,f.css({width:b+"px",height:w+"px"})):e.console.error("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+t.imageSize)}f.setAttribute("style",f.getAttribute("style")+"width:"+v+"px; height:"+y+"px")}n.setAttribute("data-has-cancel-button",t.showCancelButton),t.showCancelButton?r.style.display="inline-block":g(r),n.setAttribute("data-has-confirm-button",t.showConfirmButton),t.showConfirmButton?a.style.display="inline-block":g(a),t.cancelButtonText&&(r.innerHTML=h(t.cancelButtonText)),t.confirmButtonText&&(a.innerHTML=h(t.confirmButtonText)),a.className="confirm btn",d(n,t.containerClass),d(a,t.confirmButtonClass),d(r,t.cancelButtonClass),d(i,t.titleClass),d(o,t.textClass),n.setAttribute("data-allow-ouside-click",t.allowOutsideClick);var C=!!t.doneFunction;n.setAttribute("data-has-done-function",C),n.setAttribute("data-timer",t.timer)}function k(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function S(){var e=l();!function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var n=+new Date,i=function(){e.style.opacity=+e.style.opacity+(new Date-n)/100,n=+new Date,+e.style.opacity<1&&setTimeout(i,t)};i()}}(c(),10),m(e),d(e,"showSweetAlert"),p(e,"hideSweetAlert"),n=t.activeElement,e.querySelector("button.confirm").focus(),setTimeout((function(){d(e,"visible")}),500);var i=e.getAttribute("data-timer");"null"!==i&&""!==i&&setTimeout((function(){E()}),i)}function E(){var s=l();b(c(),5),b(s,5),p(s,"showSweetAlert"),d(s,"hideSweetAlert"),p(s,"visible");var a=s.querySelector(".icon.success");p(a,"animate"),p(a.querySelector(".tip"),"animateSuccessTip"),p(a.querySelector(".long"),"animateSuccessLong");var u=s.querySelector(".icon.error");p(u,"animateErrorIcon"),p(u.querySelector(".x-mark"),"animateXMark");var h=s.querySelector(".icon.warning");p(h,"pulseWarning"),p(h.querySelector(".body"),"pulseWarningIns"),p(h.querySelector(".dot"),"pulseWarningIns"),e.onkeydown=o,t.onclick=i,n&&n.focus(),r=void 0}function T(){l().style.marginTop=function(e){e.style.left="-9999px",e.style.display="block";var t=e.clientHeight,n=parseInt(getComputedStyle(e).getPropertyValue("padding"),10);return e.style.left="",e.style.display="none","-"+parseInt(t/2+n)+"px"}(l())}e.sweetAlertInitialize=function(){var e=t.createElement("div");e.innerHTML='<div class="sweet-overlay"></div><div class="sweet-alert"><div class="icon error"><span class="x-mark"><span class="line left"></span><span class="line right"></span></span></div><div class="icon warning"> <span class="body"></span> <span class="dot"></span> </div> <div class="icon info"></div> <div class="icon success"> <span class="line tip"></span> <span class="line long"></span> <div class="placeholder"></div> <div class="fix"></div> </div> <div class="icon custom"></div> <h2>Title</h2><p class="lead text-muted">Text</p><p><button class="cancel btn" tabIndex="2">Cancel</button> <button class="confirm btn" tabIndex="1">OK</button></p></div>',t.body.appendChild(e)},e.sweetAlert=e.swal=function(){if(void 0===arguments[0])return e.console.error("sweetAlert expects at least 1 attribute!"),!1;var n=k({},a);switch(typeof arguments[0]){case"string":n.title=arguments[0],n.text=arguments[1]||"",n.type=arguments[2]||"";break;case"object":if(void 0===arguments[0].title)return e.console.error('Missing "title" argument!'),!1;n.title=arguments[0].title,n.text=arguments[0].text||a.text,n.type=arguments[0].type||a.type,n.allowOutsideClick=arguments[0].allowOutsideClick||a.allowOutsideClick,n.showCancelButton=void 0!==arguments[0].showCancelButton?arguments[0].showCancelButton:a.showCancelButton,n.showConfirmButton=void 0!==arguments[0].showConfirmButton?arguments[0].showConfirmButton:a.showConfirmButton,n.closeOnConfirm=void 0!==arguments[0].closeOnConfirm?arguments[0].closeOnConfirm:a.closeOnConfirm,n.closeOnCancel=void 0!==arguments[0].closeOnCancel?arguments[0].closeOnCancel:a.closeOnCancel,n.timer=arguments[0].timer||a.timer,n.confirmButtonText=a.showCancelButton?"Confirm":a.confirmButtonText,n.confirmButtonText=arguments[0].confirmButtonText||a.confirmButtonText,n.confirmButtonClass=arguments[0].confirmButtonClass||(arguments[0].type?"btn-"+arguments[0].type:null)||a.confirmButtonClass,n.cancelButtonText=arguments[0].cancelButtonText||a.cancelButtonText,n.cancelButtonClass=arguments[0].cancelButtonClass||a.cancelButtonClass,n.containerClass=arguments[0].containerClass||a.containerClass,n.titleClass=arguments[0].titleClass||a.titleClass,n.textClass=arguments[0].textClass||a.textClass,n.imageUrl=arguments[0].imageUrl||a.imageUrl,n.imageSize=arguments[0].imageSize||a.imageSize,n.doneFunction=arguments[1]||null;break;default:return e.console.error('Unexpected type of argument! Expected "string" or "object", got '+typeof arguments[0]),!1}x(n),T(),S();for(var s=l(),c=function(e){var t=(e.target||e.srcElement).className.indexOf("confirm")>-1,i=u(s,"visible"),o=n.doneFunction&&"true"===s.getAttribute("data-has-done-function");if("click"===e.type)if(t&&o&&i)n.doneFunction(!0),n.closeOnConfirm&&E();else if(o&&i){var r=String(n.doneFunction).replace(/\s/g,"");"function("===r.substring(0,9)&&")"!==r.substring(9,10)&&n.doneFunction(!1),n.closeOnCancel&&E()}else E()},d=s.querySelectorAll("button"),p=0;p<d.length;p++)d[p].onclick=c;i=t.onclick,t.onclick=function(e){var t=e.target||e.srcElement,n=s===t,i=y(s,e.target),o=u(s,"visible"),r="true"===s.getAttribute("data-allow-ouside-click");!n&&!i&&o&&r&&E()};var h=s.querySelector("button.confirm"),f=s.querySelector("button.cancel"),m=s.querySelectorAll("button:not([type=hidden])");function v(e){var t=e.keyCode||e.which;if(-1!==[9,13,32,27].indexOf(t)){for(var n=e.target||e.srcElement,i=-1,o=0;o<m.length;o++)if(n===m[o]){i=o;break}9===t?(n=-1===i?h:i===m.length-1?m[0]:m[i+1],C(e),n.focus()):void 0!==(n=13===t||32===t?-1===i?h:void 0:27!==t||f.hidden||"none"===f.style.display?void 0:f)&&w(n)}}function g(e){var n=e.target||e.srcElement,i=e.relatedTarget,o=u(s,"visible");if(!(t.querySelector(".control-popup.modal")||!1)&&o){var a=-1;if(null!==i){for(var l=0;l<m.length;l++)if(i===m[l]){a=l;break}-1===a&&n.focus()}else r=n}}o=e.onkeydown,e.onkeydown=v,h.onblur=g,f.onblur=g,e.onfocus=function(){e.setTimeout((function(){void 0!==r&&(r.focus(),r=void 0)}),0)}},e.swal.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");k(a,e)},e.swal.close=function(){E()},"complete"===t.readyState||"interactive"===t.readyState&&t.body?sweetAlertInitialize():t.addEventListener?t.addEventListener("DOMContentLoaded",(function e(){t.removeEventListener("DOMContentLoaded",e,!1),sweetAlertInitialize()}),!1):t.attachEvent&&t.attachEvent("onreadystatechange",(function e(){"complete"===t.readyState&&(t.detachEvent("onreadystatechange",e),sweetAlertInitialize())}))}(window,document),function(e){e.Jcrop=function(t,n){var i,o=e.extend({},e.Jcrop.defaults),r=navigator.userAgent.toLowerCase(),s=/msie/.test(r),a=/msie [1-6]\./.test(r);function l(e){return Math.round(e)+"px"}function c(e){return o.baseClass+"-"+e}function u(t){var n=e(t).offset();return[n.left,n.top]}function d(e){return[e.pageX-i[0],e.pageY-i[1]]}function p(t){"object"!=typeof t&&(t={}),o=e.extend(o,t),e.each(["onChange","onSelect","onRelease","onDblClick"],(function(e,t){"function"!=typeof o[t]&&(o[t]=function(){})}))}function h(e,t,n){if(i=u(T),X.setCursor("move"===e?e:e+"-resize"),"move"===e)return X.activateHandlers(function(e){var t=e;return K.watchKeys(),function(e){G.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,Y.update()}}(t),y,n);var r=G.getFixed(),s=f(e),a=G.getCorner(f(s));G.setPressed(G.getCorner(s)),G.setCurrent(a),X.activateHandlers(function(e,t){return function(n){if(o.aspectRatio)switch(e){case"e":case"w":n[1]=t.y+1;break;case"n":case"s":n[0]=t.x+1}else switch(e){case"e":case"w":n[1]=t.y2;break;case"n":case"s":n[0]=t.x2}G.setCurrent(n),Y.update()}}(e,r),y,n)}function f(e){switch(e){case"n":case"ne":return"sw";case"s":case"e":case"se":return"nw";case"w":case"sw":return"ne";case"nw":return"se"}}function m(e){return function(t){return!o.disabled&&(!("move"===e&&!o.allowMove)&&(i=u(T),R=!0,h(e,d(t)),t.stopPropagation(),t.preventDefault(),!1))}}function v(e,t,n){var i=e.width(),o=e.height();i>t&&t>0&&(i=t,o=t/e.width()*e.height()),o>n&&n>0&&(o=n,i=n/e.height()*e.width()),O=e.width()/i,U=e.height()/o,e.width(i).height(o)}function g(e){return{x:e.x*O,y:e.y*U,x2:e.x2*O,y2:e.y2*U,w:e.w*O,h:e.h*U}}function y(e){var t=G.getFixed();t.w>o.minSelect[0]&&t.h>o.minSelect[1]?(Y.enableHandles(),Y.done()):Y.release(),X.setCursor(o.allowSelect?"crosshair":"default")}function b(e){if(o.disabled)return!1;if(!o.allowSelect)return!1;R=!0,i=u(T),Y.disableHandles(),X.setCursor("crosshair");var t=d(e);return G.setPressed(t),Y.update(),X.activateHandlers(w,y,"touch"===e.type.substring(0,5)),K.watchKeys(),e.stopPropagation(),e.preventDefault(),!1}function w(e){G.setCurrent(e),Y.update()}function C(){var t=e("<div></div>").addClass(c("tracker"));return s&&t.css({opacity:0,backgroundColor:"white"}),t}"object"!=typeof t&&(t=e(t)[0]),"object"!=typeof n&&(n={}),p(n);var x={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},k=e(t),S=!0;if("IMG"==t.tagName){if(0!=k[0].width&&0!=k[0].height)k.width(k[0].width),k.height(k[0].height);else{var E=new Image;E.src=k[0].src,k.width(E.width),k.height(E.height)}var T=k.clone().removeAttr("id").css(x).show();T.width(k.width()),T.height(k.height()),k.after(T).hide()}else T=k.css(x).show(),S=!1,null===o.shade&&(o.shade=!0);v(T,o.boxWidth,o.boxHeight);var z=T.width(),F=T.height(),L=e("<div />").width(z).height(F).addClass(c("holder")).css({position:"relative",backgroundColor:o.bgColor}).insertAfter(k).append(T);o.addClass&&L.addClass(o.addClass);var $=e("<div />"),A=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),D=e("<div />").width("100%").height("100%").css("zIndex",320),M=e("<div />").css({position:"absolute",zIndex:600}).dblclick((function(){var e=G.getFixed();o.onDblClick.call(oe,e)})).insertBefore(T).append(A,D);S&&($=e("<img />").attr("src",T.attr("src")).css(x).width(z).height(F),A.append($)),a&&M.css({overflowY:"hidden"});var I,_,N,P,O,U,R,j,B=o.boundary,H=C().width(z+2*B).height(F+2*B).css({position:"absolute",top:l(-B),left:l(-B),zIndex:290}).mousedown(b),q=o.bgColor,W=o.bgOpacity;i=u(T);var Q=function(){function t(){var e,t={},n=["touchstart","touchmove","touchend"],i=document.createElement("div");try{for(e=0;e<n.length;e++){var o=n[e],r=(o="on"+o)in i;r||(i.setAttribute(o,"return;"),r="function"==typeof i[o]),t[n[e]]=r}return t.touchstart&&t.touchend&&t.touchmove}catch(e){return!1}}return{createDragger:function(e){return function(t){return!o.disabled&&(!("move"===e&&!o.allowMove)&&(i=u(T),R=!0,h(e,d(Q.cfilter(t)),!0),t.stopPropagation(),t.preventDefault(),!1))}},newSelection:function(e){return b(Q.cfilter(e))},cfilter:function(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e},fixTouchSupport:function(t){e(t.currentTarget).hasClass("jcrop-tracker")&&t.stopPropagation()},isSupported:t,support:!0===o.touchSupport||!1===o.touchSupport?o.touchSupport:t()}}(),G=function(){var e,t,n=0,i=0,r=0,s=0;function a(){if(!o.aspectRatio)return function(){var e,t=r-n,o=s-i;I&&Math.abs(t)>I&&(r=t>0?n+I:n-I);_&&Math.abs(o)>_&&(s=o>0?i+_:i-_);P/U&&Math.abs(o)<P/U&&(s=o>0?i+P/U:i-P/U);N/O&&Math.abs(t)<N/O&&(r=t>0?n+N/O:n-N/O);n<0&&(r-=n,n-=n);i<0&&(s-=i,i-=i);r<0&&(n-=r,r-=r);s<0&&(i-=s,s-=s);r>z&&(n-=e=r-z,r-=e);s>F&&(i-=e=s-F,s-=e);n>z&&(s-=e=n-F,i-=e);i>F&&(s-=e=i-F,i-=e);return u(c(n,i,r,s))}();var e,t,a,l,d=o.aspectRatio,p=o.minSize[0]/O,h=o.maxSize[0]/O,f=o.maxSize[1]/U,m=r-n,v=s-i,g=Math.abs(m),y=Math.abs(v);return 0===h&&(h=10*z),0===f&&(f=10*F),g/y<d?(t=s,a=y*d,(e=m<0?n-a:a+n)<0?(e=0,l=Math.abs((e-n)/d),t=v<0?i-l:l+i):e>z&&(e=z,l=Math.abs((e-n)/d),t=v<0?i-l:l+i)):(e=r,l=g/d,(t=v<0?i-l:i+l)<0?(t=0,a=Math.abs((t-i)*d),e=m<0?n-a:a+n):t>F&&(t=F,a=Math.abs(t-i)*d,e=m<0?n-a:a+n)),e>n?(e-n<p?e=n+p:e-n>h&&(e=n+h),t=t>i?i+(e-n)/d:i-(e-n)/d):e<n&&(n-e<p?e=n-p:n-e>h&&(e=n-h),t=t>i?i+(n-e)/d:i-(n-e)/d),e<0?(n-=e,e=0):e>z&&(n-=e-z,e=z),t<0?(i-=t,t=0):t>F&&(i-=t-F,t=F),u(c(n,i,e,t))}function l(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>z&&(e[0]=z),e[1]>F&&(e[1]=F),[Math.round(e[0]),Math.round(e[1])]}function c(e,t,n,i){var o=e,r=n,s=t,a=i;return n<e&&(o=n,r=e),i<t&&(s=i,a=t),[o,s,r,a]}function u(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}return{flipCoords:c,setPressed:function(e){e=l(e),r=n=e[0],s=i=e[1]},setCurrent:function(n){n=l(n),e=n[0]-r,t=n[1]-s,r=n[0],s=n[1]},getOffset:function(){return[e,t]},moveOffset:function(e){var t=e[0],o=e[1];0>n+t&&(t-=t+n),0>i+o&&(o-=o+i),F<s+o&&(o+=F-(s+o)),z<r+t&&(t+=z-(r+t)),n+=t,r+=t,i+=o,s+=o},getCorner:function(e){var t=a();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}},getFixed:a}}(),V=function(){var t=!1,n=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),i={top:a(),left:a().height(F),right:a().height(F),bottom:a()};function r(){return s(G.getFixed())}function s(e){i.top.css({left:l(e.x),width:l(e.w),height:l(e.y)}),i.bottom.css({top:l(e.y2),left:l(e.x),width:l(e.w),height:l(F-e.y2)}),i.right.css({left:l(e.x2),width:l(z-e.x2)}),i.left.css({width:l(e.x)})}function a(){return e("<div />").css({position:"absolute",backgroundColor:o.shadeColor||o.bgColor}).appendTo(n)}function c(){t||(t=!0,n.insertBefore(T),r(),Y.setBgOpacity(1,0,1),$.hide(),u(o.shadeColor||o.bgColor,1),Y.isAwake()?p(o.bgOpacity,1):p(1,1))}function u(e,t){ne(h(),e,t)}function d(){t&&(n.remove(),$.show(),t=!1,Y.isAwake()?Y.setBgOpacity(o.bgOpacity,1,1):(Y.setBgOpacity(1,1,1),Y.disableHandles()),ne(L,0,1))}function p(e,i){t&&(o.bgFade&&!i?n.animate({opacity:1-e},{queue:!1,duration:o.fadeTime}):n.css({opacity:1-e}))}function h(){return n.children()}return{update:r,updateRaw:s,getShades:h,setBgColor:u,enable:c,disable:d,resize:function(e,t){i.left.css({height:l(t)}),i.right.css({height:l(t)})},refresh:function(){o.shade?c():d(),Y.isAwake()&&p(o.bgOpacity)},opacity:p}}(),Y=function(){var t,n=370,i={},r={},s={},a=!1;function u(t,n){var i=e("<div />").mousedown(m(t)).css({cursor:t+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+t);return Q.support&&i.bind("touchstart.jcrop",Q.createDragger(t)),D.append(i),i}function d(){var e=G.getFixed();G.setPressed([e.x,e.y]),G.setCurrent([e.x2,e.y2]),p()}function p(e){if(t)return h(e)}function h(e){var n,i,r,s,a=G.getFixed();n=a.w,i=a.h,M.width(Math.round(n)).height(Math.round(i)),r=a.x,s=a.y,o.shade||$.css({top:l(-s),left:l(-r)}),M.css({top:l(s),left:l(r)}),o.shade&&V.updateRaw(a),t||function(){M.show(),o.shade?V.opacity(W):f(W,!0);t=!0}(),e?o.onSelect.call(oe,g(a)):o.onChange.call(oe,g(a))}function f(e,n,i){(t||n)&&(o.bgFade&&!i?T.animate({opacity:e},{queue:!1,duration:o.fadeTime}):T.css("opacity",e))}function v(){if(a=!0,o.allowResize)return D.show(),!0}function y(){a=!1,D.hide()}function b(e){e?(j=!0,y()):(j=!1,v())}o.dragEdges&&e.isArray(o.createDragbars)&&function(e){var t;for(t=0;t<e.length;t++)s[e[t]]=u(e[t],n++).addClass("jcrop-dragbar")}(o.createDragbars),e.isArray(o.createHandles)&&function(e){var t,i,s,a;for(t=0;t<e.length;t++)r[e[t]]=(i=e[t],s=void 0,a=void 0,s=o.handleSize,a=u(i,n++).css({opacity:o.handleOpacity}).addClass(c("handle")),s&&a.width(s).height(s),a)}(o.createHandles),o.drawBorders&&e.isArray(o.createBorders)&&function(t){var n,r,s,a;for(r=0;r<t.length;r++){switch(t[r]){case"n":n="hline";break;case"s":n="hline bottom";break;case"e":n="vline right";break;case"w":n="vline"}i[t[r]]=(s=n,a=void 0,a=e("<div />").css({position:"absolute",opacity:o.borderOpacity}).addClass(c(s)),A.append(a),a)}}(o.createBorders),e(document).bind("touchstart.jcrop-ios",Q.fixTouchSupport);var w=C().mousedown(m("move")).css({cursor:"move",position:"absolute",zIndex:360});return Q.support&&w.bind("touchstart.jcrop",Q.createDragger("move")),A.append(w),y(),{updateVisible:p,update:h,release:function(){y(),M.hide(),o.shade?V.opacity(1):f(1),t=!1,o.onRelease.call(oe)},refresh:d,isAwake:function(){return t},setCursor:function(e){w.css("cursor",e)},enableHandles:v,enableOnly:function(){a=!0},showHandles:function(){a&&D.show()},disableHandles:y,animMode:b,setBgOpacity:f,done:function(){b(!1),d()}}}(),X=function(){var t=function(){},n=function(){},i=o.trackDocument;function r(e){return t(d(e)),!1}function s(i){return i.preventDefault(),i.stopPropagation(),R&&(R=!1,n(d(i)),Y.isAwake()&&o.onSelect.call(oe,g(G.getFixed())),H.css({zIndex:290}),e(document).unbind(".jcrop"),t=function(){},n=function(){}),!1}function a(e){return t(d(Q.cfilter(e))),!1}function l(e){return s(Q.cfilter(e))}return i||H.mousemove(r).mouseup(s).mouseout(s),T.before(H),{activateHandlers:function(o,c,u){return R=!0,t=o,n=c,function(t){H.css({zIndex:450}),t?e(document).bind("touchmove.jcrop",a).bind("touchend.jcrop",l):i&&e(document).bind("mousemove.jcrop",r).bind("mouseup.jcrop",s)}(u),!1},setCursor:function(e){H.css("cursor",e)}}}(),K=function(){var t=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),n=e("<div />").css({position:"absolute",overflow:"hidden"}).append(t);function i(e,t,n){o.allowMove&&(G.moveOffset([t,n]),Y.updateVisible(!0)),e.preventDefault(),e.stopPropagation()}return o.keySupport&&(t.keydown((function(e){if(e.ctrlKey||e.metaKey)return!0;var t=!!e.shiftKey?10:1;switch(e.keyCode){case 37:i(e,-t,0);break;case 39:i(e,t,0);break;case 38:i(e,0,-t);break;case 40:i(e,0,t);break;case 27:o.allowSelect&&Y.release();break;case 9:return!0}return!1})).blur((function(e){t.hide()})),a||!o.fixedSupport?(t.css({position:"absolute",left:"-20px"}),n.append(t).insertBefore(T)):t.insertBefore(T)),{watchKeys:function(){o.keySupport&&(t.show(),t.focus())}}}();function J(e){Z([e[0]/O,e[1]/U,e[2]/O,e[3]/U]),o.onSelect.call(oe,g(G.getFixed())),Y.enableHandles()}function Z(e){G.setPressed([e[0],e[1]]),G.setCurrent([e[2],e[3]]),Y.update()}function ee(){o.disabled=!0,Y.disableHandles(),Y.setCursor("default"),X.setCursor("default")}function te(){o.disabled=!1,ie()}function ne(t,n,i){var r=n||o.bgColor;o.bgFade&&e.fx.step.hasOwnProperty("backgroundColor")&&o.fadeTime&&!i?t.animate({backgroundColor:r},{queue:!1,duration:o.fadeTime}):t.css("backgroundColor",r)}function ie(e){o.allowResize?e?Y.enableOnly():Y.enableHandles():Y.disableHandles(),X.setCursor(o.allowSelect?"crosshair":"default"),Y.setCursor(o.allowMove?"move":"default"),o.hasOwnProperty("trueSize")&&(O=o.trueSize[0]/z,U=o.trueSize[1]/F),o.hasOwnProperty("setSelect")&&(J(o.setSelect),Y.done(),delete o.setSelect),V.refresh(),o.bgColor!=q&&(ne(o.shade?V.getShades():L,o.shade&&o.shadeColor||o.bgColor),q=o.bgColor),W!=o.bgOpacity&&(W=o.bgOpacity,o.shade?V.refresh():Y.setBgOpacity(W)),I=o.maxSize[0]||0,_=o.maxSize[1]||0,N=o.minSize[0]||0,P=o.minSize[1]||0,o.hasOwnProperty("outerImage")&&(T.attr("src",o.outerImage),delete o.outerImage),Y.refresh()}Q.support&&H.bind("touchstart.jcrop",Q.newSelection),D.hide(),ie(!0);var oe={setImage:function(e,t){Y.release(),ee();var n=new Image;n.onload=function(){var i=n.width,r=n.height,s=o.boxWidth,a=o.boxHeight;T.width(i).height(r),T.attr("src",e),$.attr("src",e),v(T,s,a),z=T.width(),F=T.height(),$.width(z).height(F),H.width(z+2*B).height(F+2*B),L.width(z).height(F),V.resize(z,F),te(),"function"==typeof t&&t.call(oe)},n.src=e},animateTo:function(e,t){var n=e[0]/O,i=e[1]/U,r=e[2]/O,s=e[3]/U;if(!j){var a=G.flipCoords(n,i,r,s),l=G.getFixed(),c=[l.x,l.y,l.x2,l.y2],u=c,d=o.animationDelay,p=a[0]-c[0],h=a[1]-c[1],f=a[2]-c[2],m=a[3]-c[3],v=0,g=o.swingSpeed;n=u[0],i=u[1],r=u[2],s=u[3],Y.animMode(!0);var y=function(){v+=(100-v)/g,u[0]=Math.round(n+v/100*p),u[1]=Math.round(i+v/100*h),u[2]=Math.round(r+v/100*f),u[3]=Math.round(s+v/100*m),v>=99.8&&(v=100),v<100?(Z(u),b()):(Y.done(),Y.animMode(!1),"function"==typeof t&&t.call(oe))};b()}function b(){window.setTimeout(y,d)}},setSelect:J,setOptions:function(e){p(e),ie()},tellSelect:function(){return g(G.getFixed())},tellScaled:function(){return G.getFixed()},setClass:function(e){L.removeClass().addClass(c("holder")).addClass(e)},disable:ee,enable:te,cancel:function(){Y.done(),X.activateHandlers(null,null)},release:Y.release,destroy:function(){e(document).unbind("touchstart.jcrop-ios",Q.fixTouchSupport),L.remove(),k.show(),k.css("visibility","visible"),e(t).removeData("Jcrop")},focus:K.watchKeys,getBounds:function(){return[z*O,F*U]},getWidgetSize:function(){return[z,F]},getScaleFactor:function(){return[O,U]},getOptions:function(){return o},ui:{holder:L,selection:M}};return s&&L.bind("selectstart",(function(){return!1})),k.data("Jcrop",oe),oe},e.fn.Jcrop=function(t,n){var i;return this.each((function(){if(e(this).data("Jcrop")){if("api"===t)return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else"IMG"==this.tagName?e.Jcrop.Loader(this,(function(){e(this).css({display:"block",visibility:"hidden"}),i=e.Jcrop(this,t),e.isFunction(n)&&n.call(i)})):(e(this).css({display:"block",visibility:"hidden"}),i=e.Jcrop(this,t),e.isFunction(n)&&n.call(i))})),this},e.Jcrop.Loader=function(t,n,i){var o=e(t),r=o[0];o.bind("load.jcloader",(function t(){r.complete?(o.unbind(".jcloader"),e.isFunction(n)&&n.call(r)):window.setTimeout(t,50)})).bind("error.jcloader",(function(t){o.unbind(".jcloader"),e.isFunction(i)&&i.call(r)})),r.complete&&e.isFunction(n)&&(o.unbind(".jcloader"),n.call(r))},e.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),function(){var e=null;window.PR_SHOULD_USE_CONTINUATION=!0,function(){function t(e,t,n,i){t&&(n(e={a:t,e:e}),i.push.apply(i,e.g))}function n(e){for(var t=void 0,n=e.firstChild;n;n=n.nextSibling){var i=n.nodeType;t=1===i?t?e:n:3===i&&b.test(n.nodeValue)?e:t}return t===e?void 0:t}function i(n,i){var o,r={};!function(){for(var t=n.concat(i),s=[],a={},l=0,c=t.length;l<c;++l){var u=t[l],d=u[3];if(d)for(var p=d.length;--p>=0;)r[d.charAt(p)]=u;d=""+(u=u[1]),a.hasOwnProperty(d)||(s.push(u),a[d]=e)}s.push(/[\S\s]/),o=function(e){function t(e){var t=e.charCodeAt(0);if(92!==t)return t;var n=e.charAt(1);return(t=d[n])?t:"0"<=n&&n<="7"?parseInt(e.substring(1),8):"u"===n||"x"===n?parseInt(e.substring(2),16):e.charCodeAt(1)}function n(e){return e<32?(e<16?"\\x0":"\\x")+e.toString(16):"\\"===(e=String.fromCharCode(e))||"-"===e||"]"===e||"^"===e?"\\"+e:e}function i(e){var i=e.substring(1,e.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),o=(e=[],["["]);(r="^"===i[0])&&o.push("^");for(var r=r?1:0,s=i.length;r<s;++r){var a,l=i[r];if(/\\[bdsw]/i.test(l))o.push(l);else l=t(l),r+2<s&&"-"===i[r+1]?(a=t(i[r+2]),r+=2):a=l,e.push([l,a]),a<65||l>122||(a<65||l>90||e.push([32|Math.max(65,l),32|Math.min(a,90)]),a<97||l>122||e.push([-33&Math.max(97,l),-33&Math.min(a,122)]))}for(e.sort((function(e,t){return e[0]-t[0]||t[1]-e[1]})),i=[],s=[],r=0;r<e.length;++r)(l=e[r])[0]<=s[1]+1?s[1]=Math.max(s[1],l[1]):i.push(s=l);for(r=0;r<i.length;++r)l=i[r],o.push(n(l[0])),l[1]>l[0]&&(l[1]+1>l[0]&&o.push("-"),o.push(n(l[1])));return o.push("]"),o.join("")}function o(e){for(var t=e.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),o=t.length,a=[],l=0,c=0;l<o;++l){var u=t[l];"("===u?++c:"\\"===u.charAt(0)&&(u=+u.substring(1))&&(u<=c?a[u]=-1:t[l]=n(u))}for(l=1;l<a.length;++l)-1===a[l]&&(a[l]=++r);for(c=l=0;l<o;++l)"("===(u=t[l])?a[++c]||(t[l]="(?:"):"\\"===u.charAt(0)&&(u=+u.substring(1))&&u<=c&&(t[l]="\\"+a[u]);for(l=0;l<o;++l)"^"===t[l]&&"^"!==t[l+1]&&(t[l]="");if(e.ignoreCase&&s)for(l=0;l<o;++l)e=(u=t[l]).charAt(0),u.length>=2&&"["===e?t[l]=i(u):"\\"!==e&&(t[l]=u.replace(/[A-Za-z]/g,(function(e){return e=e.charCodeAt(0),"["+String.fromCharCode(-33&e,32|e)+"]"})));return t.join("")}for(var r=0,s=!1,a=!1,l=0,c=e.length;l<c;++l){var u=e[l];if(u.ignoreCase)a=!0;else if(/[a-z]/i.test(u.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){s=!0,a=!1;break}}var d={b:8,t:9,n:10,v:11,f:12,r:13},p=[];for(l=0,c=e.length;l<c;++l){if((u=e[l]).global||u.multiline)throw Error(""+u);p.push("(?:"+o(u)+")")}return RegExp(p.join("|"),a?"gi":"g")}(s)}();var s=i.length;return function e(n){for(var l=n.e,c=[l,"pln"],u=0,d=n.a.match(o)||[],p={},h=0,f=d.length;h<f;++h){var m,v=d[h],g=p[v],y=void 0;if("string"==typeof g)m=!1;else{var b=r[v.charAt(0)];if(b)y=v.match(b[1]),g=b[0];else{for(m=0;m<s;++m)if(b=i[m],y=v.match(b[1])){g=b[0];break}y||(g="pln")}!(m=g.length>=5&&"lang-"===g.substring(0,5))||y&&"string"==typeof y[1]||(m=!1,g="src"),m||(p[v]=g)}if(b=u,u+=v.length,m){m=y[1];var w=v.indexOf(m),C=w+m.length;y[2]&&(w=(C=v.length-y[2].length)-m.length),g=g.substring(5),t(l+b,v.substring(0,w),e,c),t(l+b+w,m,a(g,m),c),t(l+b+C,v.substring(C),e,c)}else c.push(l+b,g)}n.g=c}}function o(t){var n=[],o=[];t.tripleQuotedStrings?n.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,e,"'\""]):t.multiLineStrings?n.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,e,"'\"`"]):n.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,e,"\"'"]),t.verbatimStrings&&o.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,e]);var r=t.hashComments;if(r&&(t.cStyleComments?(r>1?n.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,e,"#"]):n.push(["com",/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\n\r]*)/,e,"#"]),o.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,e])):n.push(["com",/^#[^\n\r]*/,e,"#"])),t.cStyleComments&&(o.push(["com",/^\/\/[^\n\r]*/,e]),o.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,e])),r=t.regexLiterals){var s=(r=r>1?"":"\n\r")?".":"[\\S\\s]";o.push(["lang-regex",RegExp("^(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*(/(?=[^/*"+r+"])(?:[^/\\x5B\\x5C"+r+"]|\\x5C"+s+"|\\x5B(?:[^\\x5C\\x5D"+r+"]|\\x5C"+s+")*(?:\\x5D|$))+/)")])}return(r=t.types)&&o.push(["typ",r]),(r=(""+t.keywords).replace(/^ | $/g,"")).length&&o.push(["kwd",RegExp("^(?:"+r.replace(/[\s,]+/g,"|")+")\\b"),e]),n.push(["pln",/^\s+/,e," \r\n\t "]),r="^.[^\\s\\w.$@'\"`/\\\\]*",t.regexLiterals&&(r+="(?!s*/)"),o.push(["lit",/^@[$_a-z][\w$@]*/i,e],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,e],["pln",/^[$_a-z][\w$@]*/i,e],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,e,"0123456789"],["pln",/^\\[\S\s]?/,e],["pun",RegExp(r),e]),i(n,o)}function r(e,t,n){function i(e){var t=e.nodeType;if(1!=t||r.test(e.className)){if((3==t||4==t)&&n){var l=e.nodeValue,c=l.match(s);c&&(t=l.substring(0,c.index),e.nodeValue=t,(l=l.substring(c.index+c[0].length))&&e.parentNode.insertBefore(a.createTextNode(l),e.nextSibling),o(e),t||e.parentNode.removeChild(e))}}else if("br"===e.nodeName)o(e),e.parentNode&&e.parentNode.removeChild(e);else for(e=e.firstChild;e;e=e.nextSibling)i(e)}function o(e){for(;!e.nextSibling;)if(!(e=e.parentNode))return;var t;for(e=function e(t,n){var i=n?t.cloneNode(!1):t;if(o=t.parentNode){var o=e(o,1),r=t.nextSibling;o.appendChild(i);for(var s=r;s;s=r)r=s.nextSibling,o.appendChild(s)}return i}(e.nextSibling,0);(t=e.parentNode)&&1===t.nodeType;)e=t;c.push(e)}for(var r=/(?:^|\s)nocode(?:\s|$)/,s=/\r\n?|\n/,a=e.ownerDocument,l=a.createElement("li");e.firstChild;)l.appendChild(e.firstChild);for(var c=[l],u=0;u<c.length;++u)i(c[u]);t===(0|t)&&c[0].setAttribute("value",t);var d=a.createElement("ol");d.className="linenums";t=Math.max(0,t-1|0)||0,u=0;for(var p=c.length;u<p;++u)(l=c[u]).className="L"+(u+t)%10,l.firstChild||l.appendChild(a.createTextNode(" ")),d.appendChild(l);e.appendChild(d)}function s(e,t){for(var n=t.length;--n>=0;){var i=t[n];C.hasOwnProperty(i)?d.console&&console.warn("cannot override language handler %s",i):C[i]=e}}function a(e,t){return e&&C.hasOwnProperty(e)||(e=/^\s*</.test(t)?"default-markup":"default-code"),C[e]}function l(e){var t=e.h;try{var n=function(e,t){var n=/(?:^|\s)nocode(?:\s|$)/,i=[],o=0,r=[],s=0;return function e(a){var l=a.nodeType;if(1==l){if(!n.test(a.className)){for(l=a.firstChild;l;l=l.nextSibling)e(l);"br"!==(l=a.nodeName.toLowerCase())&&"li"!==l||(i[s]="\n",r[s<<1]=o++,r[s++<<1|1]=a)}}else 3!=l&&4!=l||(l=a.nodeValue).length&&(l=t?l.replace(/\r\n?/g,"\n"):l.replace(/[\t\n\r ]+/g," "),i[s]=l,r[s<<1]=o,o+=l.length,r[s++<<1|1]=a)}(e),{a:i.join("").replace(/\n$/,""),d:r}}(e.c,e.i),i=n.a;e.a=i,e.d=n.d,e.e=0,a(t,i)(e);var o,r,s=(s=/\bMSIE\s(\d+)/.exec(navigator.userAgent))&&+s[1]<=8,l=(t=/\n/g,e.a),c=l.length,u=(n=0,e.d),p=u.length,h=(i=0,e.g),f=h.length,m=0;for(h[f]=c,r=o=0;r<f;)h[r]!==h[r+2]?(h[o++]=h[r++],h[o++]=h[r++]):r+=2;for(f=o,r=o=0;r<f;){for(var v=h[r],g=h[r+1],y=r+2;y+2<=f&&h[y+1]===g;)y+=2;h[o++]=v,h[o++]=g,r=y}h.length=o;var b,w=e.c;w&&(b=w.style.display,w.style.display="none");try{for(;i<p;){var C,x=u[i+2]||c,k=h[m+2]||c,S=(y=Math.min(x,k),u[i+1]);if(1!==S.nodeType&&(C=l.substring(n,y))){s&&(C=C.replace(t,"\r")),S.nodeValue=C;var E=S.ownerDocument,T=E.createElement("span");T.className=h[m+1];var z=S.parentNode;z.replaceChild(T,S),T.appendChild(S),n<x&&(u[i+1]=S=E.createTextNode(l.substring(y,x)),z.insertBefore(S,T.nextSibling))}(n=y)>=x&&(i+=2),n>=k&&(m+=2)}}finally{w&&(w.style.display=b)}}catch(e){d.console&&console.log(e&&e.stack||e)}}var c,u,d=window,p=[c=[[u=["break,continue,do,else,for,if,return,while"],"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],h=[c,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],f=[h,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],m=[u,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],v=[u,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],g=[u,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"],y=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,b=/\S/,w=o({keywords:[p,f,c=[c,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",m,v,u=[u,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"]],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),C={};s(w,["default-code"]),s(i([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),s(i([["pln",/^\s+/,e," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,e,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]),s(i([],[["atv",/^[\S\s]+/]]),["uq.val"]),s(o({keywords:p,hashComments:!0,cStyleComments:!0,types:y}),["c","cc","cpp","cxx","cyc","m"]),s(o({keywords:"null,true,false"}),["json"]),s(o({keywords:f,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:y}),["cs"]),s(o({keywords:h,cStyleComments:!0}),["java"]),s(o({keywords:u,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]),s(o({keywords:m,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]),s(o({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl","pm"]),s(o({keywords:v,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]),s(o({keywords:c,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]),s(o({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),s(o({keywords:g,cStyleComments:!0,multilineStrings:!0}),["rc","rs","rust"]),s(i([],[["str",/^[\S\s]+/]]),["regex"]);var x=d.PR={createSimpleLexer:i,registerLangHandler:s,sourceDecorator:o,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ",prettyPrintOne:d.prettyPrintOne=function(e,t,n){var i=document.createElement("div");return i.innerHTML="<pre>"+e+"</pre>",i=i.firstChild,n&&r(i,n,!0),l({h:t,j:n,c:i,i:1}),i.innerHTML},prettyPrint:d.prettyPrint=function(t,i){for(var o=(s=i||document.body).ownerDocument||document,s=[s.getElementsByTagName("pre"),s.getElementsByTagName("code"),s.getElementsByTagName("xmp")],a=[],c=0;c<s.length;++c)for(var u=0,p=s[c].length;u<p;++u)a.push(s[c][u]);s=e;var h=Date;h.now||(h={now:function(){return+new Date}});var f=0,m=/\blang(?:uage)?-([\w.]+)(?!\S)/,v=/\bprettyprint\b/,g=/\bprettyprinted\b/,y=/pre|xmp/i,b=/^code$/i,w=/^(?:pre|code|xmp)$/i,C={};!function i(){for(var s=d.PR_SHOULD_USE_CONTINUATION?h.now()+250:1/0;f<a.length&&h.now()<s;f++){for(var c=a[f],u=C,p=c;p=p.previousSibling;){if((S=(7===(x=p.nodeType)||8===x)&&p.nodeValue)?!/^\??prettify\b/.test(S):3!==x||/\S/.test(p.nodeValue))break;if(S){u={},S.replace(/\b(\w+)=([\w%+\-.:]+)/g,(function(e,t,n){u[t]=n}));break}}if(p=c.className,(u!==C||v.test(p))&&!g.test(p)){for(x=!1,S=c.parentNode;S;S=S.parentNode)if(w.test(S.tagName)&&S.className&&v.test(S.className)){x=!0;break}if(!x){var x,k;if(c.className+=" prettyprinted",!(x=u.lang))!(x=p.match(m))&&(k=n(c))&&b.test(k.tagName)&&(x=k.className.match(m)),x&&(x=x[1]);if(y.test(c.tagName))S=1;else{var S=c.currentStyle,E=o.defaultView;S=(S=S?S.whiteSpace:E&&E.getComputedStyle?E.getComputedStyle(c,e).getPropertyValue("white-space"):0)&&"pre"===S.substring(0,3)}(E="true"===(E=u.linenums)||+E)||(E=!!(E=p.match(/\blinenums\b(?::(\d+))?/))&&(!E[1]||!E[1].length||+E[1])),E&&r(c,E,S),l({h:x,c:c,j:E,i:S})}}}f<a.length?setTimeout(i,250):"function"==typeof t&&t()}()}};"function"==typeof define&&define.amd&&define("google-code-prettify",[],(function(){return x}))}()}(),void 0===$.wn&&($.wn={}),void 0===$.oc&&($.oc=$.wn),void 0===$.wn.langMessages&&($.wn.langMessages={}),$.wn.lang=function(e,t){return e.load=function(n){void 0===t[n]&&(t[n]={}),e.loadedMessages=t[n]},e.get=function(t,n){if(t){var i=e.loadedMessages;return n||(n=t),$.each(t.split("."),(function(e,t){if(void 0===i[t])return i=n,!1;i=i[t]})),i}},void 0===e.locale&&(e.locale=$("html").attr("lang")||"en"),void 0===e.loadedMessages&&e.load(e.locale),e}($.wn.lang||{},$.wn.langMessages),function(e){void 0===e.wn&&(e.wn={}),void 0===e.oc&&(e.oc=e.wn),e.wn.alert=function(e){swal({title:e,confirmButtonClass:"btn-primary"})},e.wn.confirm=function(e,t){swal({title:e,showCancelButton:!0,confirmButtonClass:"btn-primary"},t)}}(jQuery),$(window).on("ajaxErrorMessage",(function(e,t){t&&($.wn.alert(t),e.preventDefault())})),$(window).on("ajaxConfirmMessage",(function(e,t){if(t)return $.wn.confirm(t,(function(t){t?e.promise.resolve():e.promise.reject()})),e.preventDefault(),!0})),$(document).ready((function(){if(window.swal){var e=window.swal;window.sweetAlert=window.swal=function(t,n){"object"==typeof t?(t.confirmButtonText=t.confirmButtonText||$.wn.lang.get("alert.confirm_button_text"),t.cancelButtonText=t.cancelButtonText||$.wn.lang.get("alert.cancel_button_text")):t={title:t,confirmButtonText:$.wn.lang.get("alert.confirm_button_text"),cancelButtonText:$.wn.lang.get("alert.cancel_button_text")},e(t,n)}}})),function(e){"use strict";var t=e.wn.foundation.base,n=t.prototype,i=function(n,i){this.$el=e(n),this.scrollbarElement=null,this.dragHandleElement=null,this.scrollContentElement=null,this.contentElement=null,this.options=i,this.scrollbarSize=null,this.updateScrollbarTimer=null,this.dragOffset=null,t.call(this),this.init(),e.wn.foundation.controlUtils.markDisposable(n)};(i.prototype=Object.create(n)).constructor=i,i.prototype.dispose=function(){this.unregisterHandlers(),this.$el.get(0).removeChild(this.scrollbarElement),this.$el.removeData("oc.scrollpad"),this.$el=null,this.scrollbarElement=null,this.dragHandleElement=null,this.scrollContentElement=null,this.contentElement=null,n.dispose.call(this)},i.prototype.scrollToStart=function(){var e="vertical"==this.options.direction?"scrollTop":"scrollLeft";this.scrollContentElement[e]=0},i.prototype.update=function(){this.updateScrollbarSize()},i.prototype.init=function(){this.build(),this.setScrollContentSize(),this.registerHandlers()},i.prototype.build=function(){var e=this.$el.get(0);this.scrollContentElement=e.children[0],this.contentElement=this.scrollContentElement.children[0],this.$el.prepend('<div class="scrollpad-scrollbar"><div class="drag-handle"></div></div>'),this.scrollbarElement=e.querySelector(".scrollpad-scrollbar"),this.dragHandleElement=e.querySelector(".scrollpad-scrollbar > .drag-handle")},i.prototype.registerHandlers=function(){this.$el.on("mouseenter",this.proxy(this.onMouseEnter)),this.$el.on("mouseleave",this.proxy(this.onMouseLeave)),this.$el.one("dispose-control",this.proxy(this.dispose)),this.scrollContentElement.addEventListener("scroll",this.proxy(this.onScroll)),this.dragHandleElement.addEventListener("mousedown",this.proxy(this.onStartDrag))},i.prototype.unregisterHandlers=function(){this.$el.off("mouseenter",this.proxy(this.onMouseEnter)),this.$el.off("mouseleave",this.proxy(this.onMouseLeave)),this.$el.off("dispose-control",this.proxy(this.dispose)),this.scrollContentElement.removeEventListener("scroll",this.proxy(this.onScroll)),this.dragHandleElement.removeEventListener("mousedown",this.proxy(this.onStartDrag)),document.removeEventListener("mousemove",this.proxy(this.onMouseMove)),document.removeEventListener("mouseup",this.proxy(this.onEndDrag))},i.prototype.setScrollContentSize=function(){var e=this.getScrollbarSize();"vertical"==this.options.direction?this.scrollContentElement.setAttribute("style","margin-right: -"+e+"px"):this.scrollContentElement.setAttribute("style","margin-bottom: -"+e+"px")},i.prototype.getScrollbarSize=function(){if(null!==this.scrollbarSize)return this.scrollbarSize;var e=document.createElement("div");e.setAttribute("class","scrollpad-scrollbar-size-tester"),e.appendChild(document.createElement("div")),document.body.appendChild(e);var t=e.offsetWidth,n=e.querySelector("div").offsetWidth;return document.body.removeChild(e),t===n&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1?this.scrollbarSize=17:this.scrollbarSize=t-n},i.prototype.updateScrollbarSize=function(){this.scrollbarElement.removeAttribute("data-hidden");var e="vertical"==this.options.direction?this.contentElement.scrollHeight:this.contentElement.scrollWidth,t="vertical"==this.options.direction?this.scrollContentElement.scrollTop:this.scrollContentElement.scrollLeft,n="vertical"==this.options.direction?this.scrollbarElement.offsetHeight:this.scrollbarElement.offsetWidth,i=n/e,o=Math.round(i*t)+2,r=Math.floor(i*(n-2))-2;n<e?("vertical"==this.options.direction?this.dragHandleElement.setAttribute("style","top: "+o+"px; height: "+r+"px"):this.dragHandleElement.setAttribute("style","left: "+o+"px; width: "+r+"px"),this.scrollbarElement.removeAttribute("data-hidden")):this.scrollbarElement.setAttribute("data-hidden",!0)},i.prototype.displayScrollbar=function(){this.clearUpdateScrollbarTimer(),this.updateScrollbarSize(),this.scrollbarElement.setAttribute("data-visible","true")},i.prototype.hideScrollbar=function(){this.scrollbarElement.removeAttribute("data-visible")},i.prototype.clearUpdateScrollbarTimer=function(){null!==this.updateScrollbarTimer&&(clearTimeout(this.updateScrollbarTimer),this.updateScrollbarTimer=null)},i.prototype.onMouseEnter=function(){this.displayScrollbar()},i.prototype.onMouseLeave=function(){this.hideScrollbar()},i.prototype.onScroll=function(){null===this.updateScrollbarTimer&&(this.updateScrollbarTimer=setTimeout(this.proxy(this.displayScrollbar),10))},i.prototype.onStartDrag=function(t){e.wn.foundation.event.stop(t);var n=e.wn.foundation.event.pageCoordinates(t),i="vertical"==this.options.direction?n.y:n.x,o=e.wn.foundation.element.absolutePosition(this.dragHandleElement),r="vertical"==this.options.direction?o.top:o.left;this.dragOffset=i-r,document.addEventListener("mousemove",this.proxy(this.onMouseMove)),document.addEventListener("mouseup",this.proxy(this.onEndDrag))},i.prototype.onMouseMove=function(t){e.wn.foundation.event.stop(t);var n="vertical"==this.options.direction?"y":"x",i="vertical"==this.options.direction?"top":"left",o="vertical"==this.options.direction?"offsetHeight":"offsetWidth",r="vertical"==this.options.direction?"scrollTop":"scrollLeft",s=(e.wn.foundation.event.pageCoordinates(t)[n]-e.wn.foundation.element.absolutePosition(this.scrollbarElement)[i]-this.dragOffset)/this.scrollbarElement[o];s>1&&(s=1);var a=s*this.contentElement[o];this.scrollContentElement[r]=a},i.prototype.onEndDrag=function(e){document.removeEventListener("mousemove",this.proxy(this.onMouseMove)),document.removeEventListener("mouseup",this.proxy(this.onEndDrag))},i.DEFAULTS={direction:"vertical"};var o=e.fn.scrollpad;e.fn.scrollpad=function(t){var n=Array.prototype.slice.call(arguments,1),o=void 0;return this.each((function(){var r=e(this),s=r.data("oc.scrollpad"),a=e.extend({},i.DEFAULTS,r.data(),"object"==typeof t&&t);if(s||r.data("oc.scrollpad",s=new i(this,a)),"string"==typeof t&&(o=s[t].apply(s,n)),void 0!==o)return!1})),o||this},e.fn.scrollpad.Constructor=i,e.fn.scrollpad.noConflict=function(){return e.fn.scrollpad=o,this},e(document).on("render",(function(){e("div[data-control=scrollpad]").scrollpad()}))}(window.jQuery),function(e){"use strict";var t=function(n,i,o){this.$el=e(n),this.body=e("body"),this.toggle=e(i),this.options=o||{},this.options=e.extend({},t.DEFAULTS,this.options),this.wrapper=e(this.options.contentWrapper),this.breakpoint=o.breakpoint,this.menuPanel=e("<div></div>").appendTo("body").addClass(this.options.collapsedMenuClass).css("width",0),this.menuContainer=e("<div></div>").appendTo(this.menuPanel).css("display","none"),this.menuElement=this.$el.clone().appendTo(this.menuContainer).css("width","auto");var r=this;function s(){r.body.removeClass(r.options.bodyMenuOpenClass),r.wrapper.css({position:"static","min-width":0,right:0,height:"100%"}),r.menuPanel.css("width",0),r.menuElement.css("width","auto"),r.menuContainer.css("display","none")}function a(){r.wrapper.animate({left:0},{duration:200,queue:!1}),r.menuPanel.animate({width:0},{duration:200,queue:!1,complete:s}),r.menuElement.animate({width:0},{duration:200,queue:!1})}this.toggle.click((function(){if(r.body.hasClass(r.options.bodyMenuOpenClass))a();else{r.wrapper.outerWidth();r.menuElement.dragScroll("goToStart"),r.wrapper.css({position:"absolute","min-width":r.wrapper.width(),height:"100%"}),r.body.addClass(r.options.bodyMenuOpenClass),r.menuContainer.css("display","block"),r.wrapper.animate({left:r.options.menuWidth},{duration:200,queue:!1}),r.menuPanel.animate({width:r.options.menuWidth},{duration:200,queue:!1,complete:function(){r.menuElement.css("width",r.options.menuWidth)}})}return!1})),this.wrapper.click((function(){if(r.body.hasClass(r.options.bodyMenuOpenClass))return a(),!1})),e(window).resize((function(){r.body.hasClass(r.options.bodyMenuOpenClass)&&e(window).width()>r.breakpoint&&s()})),this.menuElement.dragScroll({vertical:!0,useNative:!0,start:function(){r.menuElement.addClass("drag")},stop:function(){r.menuElement.removeClass("drag")},scrollClassContainer:r.menuPanel,scrollMarkerContainer:r.menuContainer}),this.menuElement.on("click",(function(){if(r.menuElement.hasClass("drag"))return!1}))};t.DEFAULTS={menuWidth:230,breakpoint:769,bodyMenuOpenClass:"mainmenu-open",collapsedMenuClass:"mainmenu-collapsed",contentWrapper:"#layout-canvas"};var n=e.fn.verticalMenu;e.fn.verticalMenu=function(n,i){return this.each((function(){var o=e(this),r=o.data("oc.verticalMenu"),s="object"==typeof i&&i;r||o.data("oc.verticalMenu",r=new t(this,n,s)),"string"==typeof i&&r[i].call(o)}))},e.fn.verticalMenu.Constructor=t,e.fn.verticalMenu.noConflict=function(){return e.fn.verticalMenu=n,this}}(window.jQuery),function(e){e(document).ready((function(){e("nav.navbar").each((function(){var t=e(this),n=e("ul.nav",t),i=t.hasClass("navbar-mode-collapse"),o=e("html").hasClass("mobile");n.verticalMenu(e("a.menu-toggle",t),{breakpoint:i?1/0:769}),e("li.with-tooltip:not(.active) > a",t).tooltip({container:"body",placement:"bottom",template:'<div class="tooltip mainmenu-tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}).on("show.bs.tooltip",(function(e){o&&e.preventDefault()}));var r=e("[data-control=toolbar]",t).data("oc.dragScroll");r&&r.goToElement(e("ul.nav > li.active",t),void 0,{duration:0})}))}))}(jQuery),function(e){"use strict";void 0===e.wn&&(e.wn={}),void 0===e.oc&&(e.oc=e.wn);var t=function(t,n){this.options=n,this.$el=e(t),this.$list=e("ul",this.$el),this.$items=e("li",this.$list),this.init()};t.DEFAULTS={activeClass:"active"},t.prototype.init=function(){var e=this;this.$list.dragScroll({vertical:!0,useNative:!0,start:function(){e.$list.addClass("drag")},stop:function(){e.$list.removeClass("drag")},scrollClassContainer:e.$el,scrollMarkerContainer:e.$el}),this.$list.on("click",(function(){if(e.$list.hasClass("drag"))return!1}))},t.prototype.unsetActiveItem=function(e){this.$items.removeClass(this.options.activeClass)},t.prototype.setActiveItem=function(e){e&&this.$items.removeClass(this.options.activeClass).filter("[data-menu-item="+e+"]").addClass(this.options.activeClass)},t.prototype.setCounter=function(t,n){var i=e('span.counter[data-menu-id="'+t+'"]',this.$el);return i.removeClass("empty"),i.toggleClass("empty",0==n),i.text(n),this},t.prototype.increaseCounter=function(t,n){var i=e('span.counter[data-menu-id="'+t+'"]',this.$el),o=parseInt(i.text());isNaN(o)&&(o=0);var r=n+o;return i.toggleClass("empty",0==r),i.text(r),this},t.prototype.dropCounter=function(e){return this.setCounter(e,0),this};var n=e.fn.sideNav;e.fn.sideNav=function(n){var i,o=Array.prototype.slice.call(arguments,1);return this.each((function(){var r=e(this),s=r.data("oc.sideNav"),a=e.extend({},t.DEFAULTS,r.data(),"object"==typeof n&&n);if(s||r.data("oc.sideNav",s=new t(this,a)),"string"==typeof n&&(i=s[n].apply(s,o)),void 0!==i)return!1;void 0===e.wn.sideNav&&(e.wn.sideNav=s)})),i||this},e.fn.sideNav.Constructor=t,e.fn.sideNav.noConflict=function(){return e.fn.sideNav=n,this},e(document).ready((function(){e('[data-control="sidenav"]').sideNav()}))}(window.jQuery),function(e){"use strict";var t=e.wn.foundation.base,n=t.prototype,i=function(n,i){var o=this.$el=e(n),r=o.get(0),s=this,a=(i=this.options=i||{},this.sizeName=i.vertical?"height":"width",e("html").hasClass("mobile")),l=this.isTouch=Modernizr.touchevents,c=(this.isScrollable=!1,this.isLocked=!1,i.vertical?"pageY":"pageX"),u=0,d=0;if(e.wn.foundation.controlUtils.markDisposable(n),t.call(this),this.$el.one("dispose-control",this.proxy(this.dispose)),!a){this.$scrollbar=e("<div />").addClass("scrollbar-scrollbar"),this.$track=e("<div />").addClass("scrollbar-track").appendTo(this.$scrollbar),this.$thumb=e("<div />").addClass("scrollbar-thumb").appendTo(this.$track),o.addClass("drag-scrollbar").addClass(i.vertical?"vertical":"horizontal").prepend(this.$scrollbar),l?this.$el.on("touchstart",(function(e){var t=e.originalEvent;1==t.touches.length&&(h(t.touches[0]),e.stopPropagation())})):(this.$thumb.on("mousedown",(function(e){h(e)})),this.$track.on("mouseup",(function(e){f(e)}))),o.mousewheel((function(e){return!function(e){d=s.options.vertical?r.scrollTop:r.scrollLeft,o.trigger("oc.scrollStart"),s.options.vertical?o.scrollTop(d+e):o.scrollLeft(d+e);var t=s.options.vertical?r.scrollTop!=d:r.scrollLeft!=d;s.setThumbPosition(),p?o.trigger("oc.scrollEnd"):(void 0!==s.endScrollTimeout&&(clearTimeout(s.endScrollTimeout),s.endScrollTimeout=void 0),s.endScrollTimeout=setTimeout((function(){o.trigger("oc.scrollEnd"),s.endScrollTimeout=void 0}),50));return t}((s.options.vertical?e.deltaFactor*e.deltaY*-1:e.deltaFactor*e.deltaX)*s.options.scrollSpeed)})),o.on("oc.scrollbar.gotoStart",(function(e){s.options.vertical?o.scrollTop(0):o.scrollLeft(0),s.update(),e.stopPropagation()})),e(window).on("resize",e.proxy(this.update,this)),e(window).on("oc.updateUi",e.proxy(this.update,this));var p=e(document.documentElement).hasClass("webkit");setTimeout((function(){s.update()}),1)}function h(t){e("body").addClass("drag-noselect"),o.trigger("oc.scrollStart"),u=t[c],d=s.options.vertical?o.scrollTop():o.scrollLeft(),l?(e(window).on("touchmove.scrollbar",(function(e){f(e.originalEvent.touches[0])&&e.preventDefault()})),o.on("touchend.scrollbar",m)):(e(window).on("mousemove.scrollbar",(function(e){return f(e),!1})),e(window).on("mouseup.scrollbar",(function(){return m(),!1})))}function f(e){s.isLocked=!0;var t,n=e[c];if(s.isTouch)t=u-n;else{var i=s.getCanvasSize()/s.getViewportSize();t=(n-u)*i}return s.options.vertical?o.scrollTop(d+t):o.scrollLeft(d+t),s.setThumbPosition(),s.options.vertical?r.scrollTop!=d:r.scrollLeft!=d}function m(){e("body").removeClass("drag-noselect"),o.trigger("oc.scrollEnd"),e(window).off(".scrollbar")}};(i.prototype=Object.create(n)).constructor=i,i.prototype.dispose=function(){this.unregisterHandlers(),n.dispose.call(this)},i.prototype.unregisterHandlers=function(){},i.DEFAULTS={vertical:!0,scrollSpeed:2,animation:!0,start:function(){},drag:function(){},stop:function(){}},i.prototype.update=function(){this.$scrollbar&&(this.$scrollbar.hide(),this.setThumbSize(),this.setThumbPosition(),this.$scrollbar.show())},i.prototype.setThumbSize=function(){var e=this.calculateProperties();this.isScrollable=!(e.thumbSizeRatio>=1),this.$scrollbar.toggleClass("disabled",!this.isScrollable),this.options.vertical?(this.$track.height(e.canvasSize),this.$thumb.height(e.thumbSize)):(this.$track.width(e.canvasSize),this.$thumb.width(e.thumbSize))},i.prototype.setThumbPosition=function(){var e=this.calculateProperties();this.options.vertical?this.$thumb.css({top:e.thumbPosition}):this.$thumb.css({left:e.thumbPosition})},i.prototype.calculateProperties=function(){var e=this.$el,t={};return t.viewportSize=this.getViewportSize(),t.canvasSize=this.getCanvasSize(),t.scrollAmount=this.options.vertical?e.scrollTop():e.scrollLeft(),t.thumbSizeRatio=t.viewportSize/t.canvasSize,t.thumbSize=t.viewportSize*t.thumbSizeRatio,t.thumbPositionRatio=t.scrollAmount/(t.canvasSize-t.viewportSize),t.thumbPosition=(t.viewportSize-t.thumbSize)*t.thumbPositionRatio+t.scrollAmount,isNaN(t.thumbPosition)&&(t.thumbPosition=0),t},i.prototype.getViewportSize=function(){return this.options.vertical?this.$el.height():this.$el.width()},i.prototype.getCanvasSize=function(){return this.options.vertical?this.$el.get(0).scrollHeight:this.$el.get(0).scrollWidth},i.prototype.gotoElement=function(t,n){var i=e(t);if(i.length){var o=0,r=!1,s={duration:300,queue:!1,complete:function(){void 0!==n&&n()}};return this.options.vertical?(o=i.get(0).offsetTop-this.$el.scrollTop(),this.options.animation?o<0?(this.$el.animate({scrollTop:i.get(0).offsetTop},s),r=!0):(o=i.get(0).offsetTop-(this.$el.scrollTop()+this.$el.outerHeight()))>0&&(this.$el.animate({scrollTop:i.get(0).offsetTop+i.outerHeight()-this.$el.outerHeight()},s),r=!0):o<0?this.$el.scrollTop(i.get(0).offsetTop):(o=i.get(0).offsetTop-(this.$el.scrollTop()+this.$el.outerHeight()))>0&&this.$el.scrollTop(i.get(0).offsetTop+i.outerHeight()-this.$el.outerHeight())):(o=i.get(0).offsetLeft-this.$el.scrollLeft())<0?(this.$el.animate({scrollLeft:i.get(0).offsetLeft},s),r=!0):(o=i.get(0).offsetLeft+i.outerWidth()-(this.$el.scrollLeft()+this.$el.outerWidth()))>0&&(this.$el.animate({scrollLeft:i.get(0).offsetLeft+i.outerWidth()-this.$el.outerWidth()},s),r=!0),r||void 0===n||n(),this}},i.prototype.dispose=function(){this.$el=null,this.$scrollbar=null,this.$track=null,this.$thumb=null};var o=e.fn.scrollbar;e.fn.scrollbar=function(t){return this.each((function(){var n=e(this),o=n.data("oc.scrollbar"),r=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);o||n.data("oc.scrollbar",o=new i(this,r)),"string"==typeof t&&o[t].call(n)}))},e.fn.scrollbar.Constructor=i,e.fn.scrollbar.noConflict=function(){return e.fn.scrollbar=o,this},e(document).render((function(){e("[data-control=scrollbar]").scrollbar()}))}(window.jQuery),function(e){"use strict";var t=function(t,n){this.options=n,this.$el=e(t),this.init()};t.DEFAULTS={ignoreItemClick:!1},t.prototype.init=function(){var t=this;this.$el.on("click","li.group > h4 > a, li.group > div.group",(function(){return t.toggleGroup(e(this).closest("li")),!1})),this.options.ignoreItemClick||this.$el.on("click","li.item > a",(function(n){var i=e.Event("open.oc.list",{relatedTarget:e(this).parent().get(0),clickEvent:n});return t.$el.trigger(i,this),!1})),this.$el.on("ajaxUpdate",e.proxy(this.update,this))},t.prototype.toggleGroup=function(t){var n=e(t);"expanded"==n.attr("data-status")?this.collapseGroup(n):this.expandGroup(n)},t.prototype.collapseGroup=function(t){var n=e("> ul, > div.subitems",t);n.css("overflow","hidden"),n.animate({height:0},{duration:100,queue:!1,complete:function(){n.css({overflow:"visible",display:"none"}),e(t).attr("data-status","collapsed"),e(window).trigger("resize")}}),this.sendGroupStatusRequest(t,0)},t.prototype.expandGroup=function(t){var n=e("> ul, > div.subitems",t);n.css({overflow:"hidden",display:"block",height:0}),n.animate({height:n[0].scrollHeight},{duration:100,queue:!1,complete:function(){n.css({overflow:"visible",height:"auto"}),e(t).attr("data-status","expanded"),e(window).trigger("resize")}}),this.sendGroupStatusRequest(t,1)},t.prototype.sendGroupStatusRequest=function(t,n){if(void 0!==this.options.groupStatusHandler){var i=e(t).data("group-id");void 0===i&&(i=e("> h4 a",t).text()),e(t).request(this.options.groupStatusHandler,{data:{group:i,status:n}})}},t.prototype.markActive=function(t){e("li.item",this.$el).removeClass("active"),t&&e('li.item[data-id="'+t+'"]',this.$el).addClass("active"),this.dataId=t},t.prototype.update=function(){void 0!==this.dataId&&this.markActive(this.dataId)};var n=e.fn.fileList;e.fn.fileList=function(n){var i=arguments;return this.each((function(){var o=e(this),r=o.data("oc.fileList"),s=e.extend({},t.DEFAULTS,o.data(),"object"==typeof n&&n);if(r||o.data("oc.fileList",r=new t(this,s)),"string"==typeof n){for(var a=[],l=1;l<i.length;l++)a.push(i[l]);r[n].apply(r,a)}}))},e.fn.fileList.Constructor=t,e.fn.fileList.noConflict=function(){return e.fn.fileList=n,this},e(document).ready((function(){e("[data-control=filelist]").fileList()}))}(window.jQuery),function(e){var t=function(){this.$accountMenuOverlay=null};t.prototype.setPageTitle=function(t){var n=e("title");void 0===this.pageTitleTemplate&&(this.pageTitleTemplate=n.data("titleTemplate")),n.text(this.pageTitleTemplate.replace("%s",t))},t.prototype.updateLayout=function(t){var n,i,o,r;e("[data-calculate-width]").each((function(){(n=e(this).children()).length>0&&(o=0,n.each((function(){i=e(this),void 0===(r=i.data("oc.layoutMargin"))&&(r=parseInt(i.css("marginRight"))+parseInt(i.css("marginLeft")),i.data("oc.layoutMargin",r)),o+=i.get(0).offsetWidth+r})),e(this).width(o),e(this).trigger("oc.widthFixed"))}))},t.prototype.toggleAccountMenu=function(t){var n=this,i=e(t),o=e(t).parent(),r=i.next();i.tooltip("hide"),r.hasClass("active")?(n.$accountMenuOverlay.remove(),o.removeClass("highlight"),r.removeClass("active")):(n.$accountMenuOverlay=e("<div />").addClass("popover-overlay"),e(document.body).append(n.$accountMenuOverlay),o.addClass("highlight"),r.addClass("active"),n.$accountMenuOverlay.one("click",(function(){n.$accountMenuOverlay.remove(),r.removeClass("active"),o.removeClass("highlight")})))},void 0===e.wn&&(e.wn={}),void 0===e.oc&&(e.oc=e.wn),e.wn.layout=new t,e(document).ready((function(){e.wn.layout.updateLayout(),window.setTimeout(e.wn.layout.updateLayout,100)})),e(window).on("resize",(function(){e.wn.layout.updateLayout()})),e(window).on("oc.updateUi",(function(){e.wn.layout.updateLayout()}))}(jQuery),function(e){"use strict";var t=function(t,n){this.options=n,this.$el=e(t),this.init()};t.prototype.init=function(){var t=this;this.tabOpenDelay=200,this.tabOpenTimeout=void 0,this.panelOpenTimeout=void 0,this.$sideNav=e("#layout-sidenav"),this.$sideNavItems=e("ul li",this.$sideNav),this.$sidePanelItems=e("[data-content-id]",this.$el),this.sideNavWidth=this.$sideNavItems.outerWidth(),this.mainNavHeight=e("#layout-mainmenu").outerHeight(),this.panelVisible=!1,this.visibleItemId=!1,this.$fixButton=e('<a href="#" class="fix-button"><i class="icon-thumb-tack"></i></a>'),this.$fixButton.click((function(){return t.fixPanel(),!1})),e(".fix-button-container",this.$el).append(this.$fixButton),this.$sideNavItems.click((function(){if(!e(this).data("no-side-panel")){if(Modernizr.touchevents&&e(window).width()<t.options.breakpoint){if(e(this).data("menu-item")==t.visibleItemId&&t.panelVisible)return void t.hideSidePanel();t.displaySidePanel()}return t.displayTab(this),!1}})),Modernizr.touchevents?(e("#layout-body").click((function(){if(t.panelVisible)return t.hideSidePanel(),!1})),t.$el.on("close.oc.sidePanel",(function(){t.hideSidePanel()}))):(t.$sideNav.mouseleave((function(){clearTimeout(t.panelOpenTimeout)})),t.$el.mouseleave((function(){t.hideSidePanel()})),t.$sideNavItems.mouseenter((function(){if(e(window).width()<t.options.breakpoint||!t.panelFixed()){if(e(this).data("no-side-panel"))return void t.hideSidePanel();var n=this;t.tabOpenTimeout=setTimeout((function(){t.displaySidePanel(),t.displayTab(n)}),t.tabOpenDelay)}})),t.$sideNavItems.mouseleave((function(){clearTimeout(t.tabOpenTimeout)})),e(window).resize((function(){t.updatePanelPosition(),t.updateActiveTab()}))),this.updateActiveTab()},t.prototype.displayTab=function(t){var n=e(t).data("menu-item");this.visibleItemId=n,void 0!==e.wn.sideNav&&e.wn.sideNav.setActiveItem(n),this.$sidePanelItems.each((function(){var t=e(this);t.toggleClass("hide",t.data("content-id")!=n)})),e(window).trigger("resize")},t.prototype.displaySidePanel=function(){e(document.body).addClass("display-side-panel"),this.$el.appendTo("#layout-canvas"),this.panelVisible=!0,this.$el.css({left:this.sideNavWidth,top:this.mainNavHeight}),this.updatePanelPosition(),e(window).trigger("resize")},t.prototype.hideSidePanel=function(){e(document.body).removeClass("display-side-panel"),0==this.$el.next("#layout-body").length&&e("#layout-body").before(this.$el),this.panelVisible=!1,this.updateActiveTab()},t.prototype.updatePanelPosition=function(){!this.panelFixed()||Modernizr.touchevents?this.$el.height(e(document).height()-this.mainNavHeight):this.$el.css("height",""),this.panelVisible&&e(window).width()>this.options.breakpoint&&this.panelFixed()&&this.hideSidePanel()},t.prototype.updateActiveTab=function(){void 0!==e.wn.sideNav&&(this.panelVisible||!(e(window).width()<this.options.breakpoint)&&this.panelFixed()?e.wn.sideNav.setActiveItem(this.visibleItemId):e.wn.sideNav.unsetActiveItem())},t.prototype.panelFixed=function(){return!(e(window).width()<this.options.breakpoint||e(document.body).hasClass("side-panel-not-fixed"))},t.prototype.fixPanel=function(){e(document.body).toggleClass("side-panel-not-fixed");var t=this;window.setTimeout((function(){var n=t.panelFixed();n?(t.updateActiveTab(),e(document.body).addClass("side-panel-fix-shadow")):(e(document.body).removeClass("side-panel-fix-shadow"),t.hideSidePanel()),"undefined"!=typeof localStorage&&(localStorage.ocSidePanelFixed=n?1:0)}),0)},t.DEFAULTS={breakpoint:769};var n=e.fn.sidePanelTab;e.fn.sidePanelTab=function(n){return this.each((function(){var i=e(this),o=i.data("oc.sidePanelTab"),r=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("oc.sidePanelTab",o=new t(this,r)),"string"==typeof n&&o[n].call(o)}))},e.fn.sidePanelTab.Constructor=t,e.fn.sidePanelTab.noConflict=function(){return e.fn.sidePanelTab=n,this},e(document).ready((function(){e("[data-control=layout-sidepanel]").sidePanelTab()})),e(document).ready((function(){(Modernizr.touchevents||"undefined"!=typeof localStorage)&&(0==localStorage.ocSidePanelFixed?(e(document.body).addClass("side-panel-not-fixed"),e(window).trigger("resize")):1==localStorage.ocSidePanelFixed&&(e(document.body).removeClass("side-panel-not-fixed"),e(window).trigger("resize")))}))}(window.jQuery),function(e){"use strict";var t=function(t,n){var i=this.$el=e(t);if(this.options=n||{},i.hasClass("is-sortable")){var o={distance:10};this.options.sortableHandle&&(o[handle]=this.options.sortableHandle),i.find("> ul, > ol").sortable(o)}i.hasClass("is-scrollable")&&(i.wrapInner(e("<div />").addClass("control-scrollbar")),i.find(">.control-scrollbar:first").scrollbar())};t.DEFAULTS={sortableHandle:null};var n=e.fn.simplelist;e.fn.simplelist=function(n){return this.each((function(){var i=e(this),o=i.data("oc.simplelist"),r=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("oc.simplelist",o=new t(this,r))}))},e.fn.simplelist.Constructor=t,e.fn.simplelist.noConflict=function(){return e.fn.simplelist=n,this},e(document).render((function(){e('[data-control="simplelist"]').simplelist()}))}(window.jQuery),function(e){"use strict";var t=e.wn.foundation.base,n=t.prototype,i=function(n,i){this.$el=e(n),this.options=i||{},t.call(this),e.wn.foundation.controlUtils.markDisposable(n),this.init()};(i.prototype=Object.create(n)).constructor=i,i.prototype.init=function(){var t={handle:this.options.handle,nested:this.options.nested,onDrop:this.proxy(this.onDrop),afterMove:this.proxy(this.onAfterMove)};this.$el.find("> ol").sortable(e.extend(t,this.options)),this.options.nested||this.$el.find("> ol ol").sortable(e.extend(t,this.options)),this.$el.one("dispose-control",this.proxy(this.dispose))},i.prototype.dispose=function(){this.unbind(),n.dispose.call(this)},i.prototype.unbind=function(){this.$el.off("dispose-control",this.proxy(this.dispose)),this.$el.find("> ol").sortable("destroy"),this.options.nested||this.$el.find("> ol ol").sortable("destroy"),this.$el.removeData("oc.treelist"),this.$el=null,this.options=null},i.DEFAULTS={handle:null,nested:!0},i.prototype.onDrop=function(e,t,n){this.$el&&(this.$el.trigger("move.oc.treelist",{item:e,container:t}),n(e,t))},i.prototype.onAfterMove=function(e,t,n){this.$el&&this.$el.trigger("aftermove.oc.treelist",{placeholder:e,container:t,closestEl:n})};var o=e.fn.treeListWidget;e.fn.treeListWidget=function(t){var n;return this.each((function(){var o=e(this),r=o.data("oc.treelist"),s=e.extend({},i.DEFAULTS,o.data(),"object"==typeof t&&t);if(r||o.data("oc.treelist",r=new i(this,s)),"string"==typeof t&&(n=r[t].call(r)),void 0!==n)return!1})),n||this},e.fn.treeListWidget.Constructor=i,e.fn.treeListWidget.noConflict=function(){return e.fn.treeListWidget=o,this},e(document).render((function(){e('[data-control="treelist"]').treeListWidget()}))}(window.jQuery),function(e){"use strict";var t=function(t,n){this.options=n,this.$el=e(t),this.init()};t.DEFAULTS={treeName:"sidenav_tree"},t.prototype.init=function(){var t=this;e(document.body).addClass("has-sidenav-tree"),this.statusCookieName=this.options.treeName+"groupStatus",this.searchCookieName=this.options.treeName+"search",this.$searchInput=e(this.options.searchInput),this.$el.on("click","li > div.group",(function(){return t.toggleGroup(e(this).closest("li")),!1})),this.$searchInput.on("input",(function(){t.handleSearchChange()}));var n=e.cookie(this.searchCookieName);void 0!==n&&n.length>0&&(this.$searchInput.val(n),this.applySearch());var i=e("[data-control=scrollbar]",this.$el).data("oc.scrollbar"),o=e("li.active",this.$el);o.length>0&&i.gotoElement(o)},t.prototype.toggleGroup=function(t){var n=e(t),i=n.attr("data-status");void 0===i||"expanded"==i?this.collapseGroup(n):this.expandGroup(n)},t.prototype.collapseGroup=function(t){var n=e("> ul",t),i=this;n.css("overflow","hidden"),n.animate({height:0},{duration:100,queue:!1,complete:function(){n.css({overflow:"visible",display:"none"}),e(t).attr("data-status","collapsed"),e(window).trigger("oc.updateUi"),i.saveGroupStatus(e(t).data("group-code"),!0)}})},t.prototype.expandGroup=function(t,n){var i=e("> ul",t),o=this;n=void 0===n?100:n,i.css({overflow:"hidden",height:0}),i.animate({height:i[0].scrollHeight},{duration:n,queue:!1,complete:function(){i.css({overflow:"visible",height:"auto",display:""}),e(t).attr("data-status","expanded"),e(window).trigger("oc.updateUi"),o.saveGroupStatus(e(t).data("group-code"),!1)}})},t.prototype.saveGroupStatus=function(t,n){var i=e.cookie(this.statusCookieName),o=[];void 0===i&&(i=""),i=i.split("|"),e.each(i,(function(){t!=this&&o.push(this)})),n&&o.push(t),e.cookie(this.statusCookieName,o.join("|"),{expires:30,path:"/"})},t.prototype.handleSearchChange=function(){var t=this.$searchInput.data("oc.lastvalue");if(void 0===t||t!=this.$searchInput.val()){this.$searchInput.data("oc.lastvalue",this.$searchInput.val()),void 0!==this.dataTrackInputTimer&&window.clearTimeout(this.dataTrackInputTimer);var n=this;this.dataTrackInputTimer=window.setTimeout((function(){n.applySearch()}),300),e.cookie(this.searchCookieName,e.trim(this.$searchInput.val()),{expires:30,path:"/"})}},t.prototype.applySearch=function(){var t=e.trim(this.$searchInput.val()),n=t.toLowerCase().split(" "),i=[],o=[],r=this;if(0!=t.length)return e("ul.top-level > li",this.$el).each((function(){var t=e(this);r.textContainsWords(e("div.group h3",t).text(),n)?(i.push(t.get(0)),e("ul li",t).each((function(){o.push(this)}))):e("ul li",t).each((function(){(r.textContainsWords(e(this).text(),n)||r.textContainsWords(e(this).data("keywords"),n))&&(i.push(t.get(0)),o.push(this))}))})),e("ul.top-level > li",this.$el).each((function(){var t=e(this),n=-1!==e.inArray(this,i);t.toggleClass("hidden",!n),n&&r.expandGroup(t,0),e("ul li",t).each((function(){e(this).toggleClass("hidden",-1==e.inArray(this,o))}))})),!1;e("li",this.$el).removeClass("hidden")},t.prototype.textContainsWords=function(e,t){e=e.toLowerCase();for(var n=0;n<t.length;n++)if(-1===e.indexOf(t[n]))return!1;return!0};var n=e.fn.sidenavTree;e.fn.sidenavTree=function(n){var i=arguments;return this.each((function(){var o=e(this),r=o.data("oc.sidenavTree"),s=e.extend({},t.DEFAULTS,o.data(),"object"==typeof n&&n);if(r||o.data("oc.sidenavTree",r=new t(this,s)),"string"==typeof n){for(var a=[],l=1;l<i.length;l++)a.push(i[l]);r[n].apply(r,a)}}))},e.fn.sidenavTree.Constructor=t,e.fn.sidenavTree.noConflict=function(){return e.fn.sidenavTree=n,this},e(document).ready((function(){e("[data-control=sidenav-tree]").sidenavTree()}))}(window.jQuery),function(e){"use strict";var t=e.wn.foundation.base,n=t.prototype,i=function(n,i){this.$el=e(n),this.options=i||{},e.wn.foundation.controlUtils.markDisposable(n),t.call(this),this.init()};(i.prototype=Object.create(n)).constructor=i,i.prototype.init=function(){this.initDefaults(),this.$el.text(this.getDateTimeValue()),this.$el.one("dispose-control",this.proxy(this.dispose))},i.prototype.initDefaults=function(){this.options.timezone||(this.options.timezone=e('meta[name="backend-timezone"]').attr("content")),this.options.locale||(this.options.locale=e('meta[name="backend-locale"]').attr("content")),this.options.format||(this.options.format="llll"),this.options.formatAlias&&(this.options.format=this.getFormatFromAlias(this.options.formatAlias)),this.appTimezone=e('meta[name="app-timezone"]').attr("content"),this.appTimezone||(this.appTimezone="UTC")},i.prototype.getDateTimeValue=function(){this.datetime=this.$el.attr("datetime"),this.$el.get(0).hasAttribute("data-ignore-timezone")&&(this.appTimezone="UTC",this.options.timezone="UTC");var e=moment.tz(this.datetime,this.appTimezone);return this.options.locale&&(e=e.locale(this.options.locale)),this.options.timezone&&(e=e.tz(this.options.timezone)),this.options.timeSince?e.fromNow():this.options.timeTense?e.calendar():e.format(this.options.format)},i.prototype.getFormatFromAlias=function(e){var t={time:"LT",timeLong:"LTS",date:"L",dateMin:"l",dateLong:"LL",dateLongMin:"ll",dateTime:"LLL",dateTimeMin:"lll",dateTimeLong:"LLLL",dateTimeLongMin:"llll"};return t[e]?t[e]:"llll"},i.prototype.dispose=function(){this.$el.off("dispose-control",this.proxy(this.dispose)),this.$el.removeData("oc.dateTimeConverter"),this.$el=null,this.options=null,n.dispose.call(this)},i.DEFAULTS={format:null,formatAlias:null,timezone:null,locale:null,timeTense:!1,timeSince:!1};var o=e.fn.dateTimeConverter;e.fn.dateTimeConverter=function(t){var n,o,r=Array.prototype.slice.call(arguments,1);return n=this.each((function(){var n=e(this),s=n.data("oc.dateTimeConverter"),a=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);if(s||n.data("oc.dateTimeConverter",s=new i(this,a)),"string"==typeof t&&(o=s[t].apply(s,r)),void 0!==o)return!1})),o||n},e.fn.dateTimeConverter.Constructor=i,e.fn.dateTimeConverter.noConflict=function(){return e.fn.dateTimeConverter=o,this},e(document).render((function(){e("time[data-datetime-control]").dateTimeConverter()}))}(window.jQuery),void 0===$.wn&&($.wn={}),void 0===$.oc&&($.oc=$.wn),$.wn.backendUrl=function(e){var t=$('meta[name="backend-base-path"]').attr("content");return t?("/"==e.substr(0,1)&&(e=e.substr(1)),t+"/"+e):e},void 0===$.wn&&($.wn={}),void 0===$.oc&&($.oc=$.wn),$.wn.escapeHtmlString=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return(""+e).replace(/[&<>"'\/]/g,(function(e){return t[e]}))},window.MSInputMethodContext&&document.documentMode){function fixMediaManager(){var e=$('div[data-control="media-manager"] .control-scrollpad');e.height(e.parent().height())}function fixSidebar(){$("#layout-sidenav").height(Math.max($("#layout-body").innerHeight(),$(window).height()-$("#layout-mainmenu").height()))}$(window).on("resize",(function(){fixMediaManager(),fixSidebar()}))}
